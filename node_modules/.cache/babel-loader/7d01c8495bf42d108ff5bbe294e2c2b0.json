{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _dayjs = _interopRequireDefault(require(\"dayjs\"));\n\nvar _en = _interopRequireDefault(require(\"./en\"));\n\nvar _hooks = require(\"../../utils/hooks\");\n\nvar _EzTimeInput = require(\"./EzTimeInput.styles\");\n\nvar _EzSelect = _interopRequireDefault(require(\"./EzSelect\"));\n\nvar _Icons = require(\"../Icons\");\n\nvar repeat = function repeat(n) {\n  return new Array(n).fill(null);\n};\n\nvar formatTime = function formatTime(time) {\n  return time.toLocaleLowerCase().replace(/([0-9]{2})([a-z]{2})$/, '$1 $2');\n};\n\nvar useTimeRangeOptions = function useTimeRangeOptions(_ref) {\n  var start = _ref.start,\n      end = _ref.end,\n      step = _ref.step;\n\n  var _useTranslation = (0, _hooks.useTranslation)(_en[\"default\"]),\n      t = _useTranslation.t;\n\n  var date = (0, _dayjs[\"default\"])().format(t('DATE_FORMAT'));\n  var startTime = (0, _dayjs[\"default\"])(\"\".concat(date, \" \").concat(formatTime(start)));\n  var endTime = (0, _dayjs[\"default\"])(\"\".concat(date, \" \").concat(formatTime(end)));\n  var interval = Math.floor(endTime.diff(startTime, 'minute') / step) + 1;\n  return repeat(interval).map(function (_, i) {\n    return startTime.add(step * i, 'minute').format(t('TIME_FORMAT'));\n  });\n};\n\nvar _default = function _default(_ref2) {\n  var start = _ref2.start,\n      end = _ref2.end,\n      _ref2$step = _ref2.step,\n      step = _ref2$step === void 0 ? 60 : _ref2$step,\n      value = _ref2.value,\n      rest = (0, _objectWithoutProperties2[\"default\"])(_ref2, [\"start\", \"end\", \"step\", \"value\"]);\n\n  var _useTranslation2 = (0, _hooks.useTranslation)(_en[\"default\"]),\n      t = _useTranslation2.t;\n\n  var date = (0, _dayjs[\"default\"])().format(t('DATE_FORMAT'));\n  var valueTime = (0, _dayjs[\"default\"])(\"\".concat(date, \" \").concat(value));\n  var valueTimeString = valueTime.format(t('TIME_FORMAT'));\n  var error = rest.error,\n      touched = rest.touched;\n  var options = useTimeRangeOptions({\n    start: start,\n    end: end,\n    step: step\n  });\n  return _react[\"default\"].createElement(_EzTimeInput.TimeInput, null, _react[\"default\"].createElement(_Icons.InsetIcon, {\n    insetY0: true,\n    left0: true,\n    pl3: true\n  }, _react[\"default\"].createElement(_Icons.ClockIcon, null)), _react[\"default\"].createElement(_EzSelect[\"default\"], (0, _extends2[\"default\"])({\n    id: rest.id,\n    label: rest.label\n  }, {\n    error: error,\n    touched: touched\n  }, {\n    placeholder: rest.placeholder,\n    options: options.map(function (option) {\n      return {\n        label: option,\n        value: option\n      };\n    }),\n    value: valueTimeString,\n    onChange: rest.onChange,\n    \"aria-labelledby\": rest['aria-labelledby']\n  })));\n};\n\nexports[\"default\"] = _default;","map":null,"metadata":{},"sourceType":"script"}