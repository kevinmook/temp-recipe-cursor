"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _react = _interopRequireWildcard(require("react"));

var _dayjs = _interopRequireDefault(require("dayjs"));

var _EzTextInput = _interopRequireDefault(require("./EzTextInput"));

var _EzDateInput = require("./EzDateInput.styles");

var _EzCalendar = _interopRequireDefault(require("../EzCalendar/EzCalendar"));

var _EzCombobox = require("./EzCombobox");

var _hooks = require("../../utils/hooks");

var _Icons = require("../Icons");

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2["default"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

var CLOSE_CALENDAR_ON_SELECT_DELAY_MS = 100;

var EzDateInput = function EzDateInput(_ref) {
  var id = _ref.id,
      name = _ref.name,
      disabled = _ref.disabled,
      _onChange = _ref.onChange,
      ariaLabelledBy = _ref['aria-labelledby'],
      props = (0, _objectWithoutProperties2["default"])(_ref, ["id", "name", "disabled", "onChange", "aria-labelledby"]);
  var _props$placeholder = props.placeholder,
      placeholder = _props$placeholder === void 0 ? 'Select date' : _props$placeholder;

  var _useState = (0, _react.useState)(props.value),
      _useState2 = (0, _slicedToArray2["default"])(_useState, 2),
      value = _useState2[0],
      setValue = _useState2[1];

  var _useState3 = (0, _react.useState)(null),
      _useState4 = (0, _slicedToArray2["default"])(_useState3, 2),
      validDate = _useState4[0],
      setValidDate = _useState4[1];

  var comboboxState = (0, _EzCombobox.useComboboxState)();

  var _useCombobox = (0, _EzCombobox.useCombobox)(comboboxState, _objectSpread({}, props, {
    'aria-haspopup': true,
    disabled: disabled,
    opened: comboboxState.visible
  })),
      clickOutsideRef = _useCombobox.ref,
      combobox = (0, _objectWithoutProperties2["default"])(_useCombobox, ["ref"]);

  var hide = comboboxState.hide,
      visible = comboboxState.visible;
  var timeout = (0, _react.useRef)(null);
  (0, _react.useEffect)(function () {
    return function () {
      return clearTimeout(timeout.current);
    };
  }, []);
  (0, _react.useEffect)(function () {
    if ((0, _dayjs["default"])(value).isValid()) setValidDate(value);
  }, [value]);
  (0, _hooks.useUpdateEffect)(function () {
    _onChange(validDate);
  }, [validDate, _onChange]);
  var comboboxInput = (0, _EzCombobox.useComboboxInput)(comboboxState, {
    id: id,
    name: name,
    value: value,
    'aria-labelledby': ariaLabelledBy,
    onChange: function onChange(e) {
      setValue(e.target.value);

      _onChange(e.target.value);
    },
    disabled: disabled,
    placeholder: placeholder,
    error: props.error,
    touched: props.touched
  });
  var comboboxFlyout = (0, _EzCombobox.useComboboxFlyout)(comboboxState);
  var minDate = props.minDate,
      maxDate = props.maxDate,
      filterDate = props.filterDate;
  return _react["default"].createElement(_EzDateInput.Container, {
    ref: clickOutsideRef,
    hasError: props.touched && props.error,
    opened: visible
  }, _react["default"].createElement(_EzDateInput.Combobox, combobox, _react["default"].createElement(_Icons.InsetIcon, {
    insetY0: true,
    left0: true,
    pl3: true
  }, _react["default"].createElement(_Icons.CalendarIcon, null)), _react["default"].createElement(_EzTextInput["default"], comboboxInput), _react["default"].createElement(_Icons.InsetIcon, {
    insetY0: true,
    right0: true,
    pr2: true
  }, _react["default"].createElement(_Icons.ChevronIcon, {
    flip: visible
  }))), visible && _react["default"].createElement(_EzDateInput.CalendarWrapper, (0, _extends2["default"])({}, comboboxFlyout, {
    onKeyDown: function onKeyDown(event) {
      if (event.key === 'Escape') hide();
    }
  }), _react["default"].createElement(_EzCalendar["default"], (0, _extends2["default"])({
    minDate: minDate,
    maxDate: maxDate,
    filterDate: filterDate
  }, {
    value: validDate,
    onChange: function onChange(date) {
      setValue(date);
      comboboxInput.ref.current.focus();
      timeout.current = setTimeout(hide, CLOSE_CALENDAR_ON_SELECT_DELAY_MS);
    }
  }))));
};

var _default = EzDateInput;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0V6RmllbGQvRXpEYXRlSW5wdXQudHN4Il0sIm5hbWVzIjpbIkNMT1NFX0NBTEVOREFSX09OX1NFTEVDVF9ERUxBWV9NUyIsIkV6RGF0ZUlucHV0IiwiaWQiLCJuYW1lIiwiZGlzYWJsZWQiLCJvbkNoYW5nZSIsImFyaWFMYWJlbGxlZEJ5IiwicHJvcHMiLCJwbGFjZWhvbGRlciIsInZhbHVlIiwic2V0VmFsdWUiLCJ2YWxpZERhdGUiLCJzZXRWYWxpZERhdGUiLCJjb21ib2JveFN0YXRlIiwib3BlbmVkIiwidmlzaWJsZSIsImNsaWNrT3V0c2lkZVJlZiIsInJlZiIsImNvbWJvYm94IiwiaGlkZSIsInRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJjdXJyZW50IiwiaXNWYWxpZCIsImNvbWJvYm94SW5wdXQiLCJlIiwidGFyZ2V0IiwiZXJyb3IiLCJ0b3VjaGVkIiwiY29tYm9ib3hGbHlvdXQiLCJtaW5EYXRlIiwibWF4RGF0ZSIsImZpbHRlckRhdGUiLCJldmVudCIsImtleSIsImRhdGUiLCJmb2N1cyIsInNldFRpbWVvdXQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7Ozs7O0FBRUEsSUFBTUEsaUNBQWlDLEdBQUcsR0FBMUM7O0FBRUEsSUFBTUMsV0FBVyxHQUFHLFNBQWRBLFdBQWMsT0FPZDtBQUFBLE1BTkpDLEVBTUksUUFOSkEsRUFNSTtBQUFBLE1BTEpDLElBS0ksUUFMSkEsSUFLSTtBQUFBLE1BSkpDLFFBSUksUUFKSkEsUUFJSTtBQUFBLE1BSEpDLFNBR0ksUUFISkEsUUFHSTtBQUFBLE1BRmVDLGNBRWYsUUFGSixpQkFFSTtBQUFBLE1BRERDLEtBQ0M7QUFBQSwyQkFDa0NBLEtBRGxDLENBQ0dDLFdBREg7QUFBQSxNQUNHQSxXQURILG1DQUNpQixhQURqQjs7QUFBQSxrQkFHc0IscUJBQVNELEtBQUss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QUFBMEIsSUFBQSxHQUFHO0FBQTdCLEtBQ0UsZ0NBQUMsa0JBQUQ7QUFBYSxJQUFBLElBQUksRUFBRVQ7QUFBbkIsSUFERixDQUxGLENBREYsRUFVR0EsT0FBTyxJQUNOLGdDQUFDLDRCQUFELGdDQUNNYyxjQUROO0FBRUUsSUFBQSxTQUFTLEVBQUUsbUJBQUFJLEtBQUssRUFBSTtBQUNsQixVQUFJQSxLQUFLLENBQUNDLEdBQU4sS0FBYyxRQUFsQixFQUE0QmYsSUFBSTtBQUNqQztBQUpILE1BTUUsZ0NBQUMsc0JBQUQsNEJBQ007QUFBQ1csSUFBQUEsT0FBTyxFQUFQQSxPQUFEO0FBQVVDLElBQUFBLE9BQU8sRUFBUEEsT0FBVjtBQUFtQkMsSUFBQUEsVUFBVSxFQUFWQTtBQUFuQixHQUROO0FBRUUsSUFBQSxLQUFLLEVBQUVyQixTQUZUO0FBR0UsSUFBQSxRQUFRLEVBQUUsa0JBQUF3QixJQUFJLEVBQUk7QUFDaEJ6QixNQUFBQSxRQUFRLENBQUN5QixJQUFELENBQVI7QUFDQVgsTUFBQUEsYUFBYSxDQUFDUCxHQUFkLENBQWtCSyxPQUFsQixDQUEwQmMsS0FBMUI7QUFDQWhCLE1BQUFBLE9BQU8sQ0FBQ0UsT0FBUixHQUFrQmUsVUFBVSxDQUFDbEIsSUFBRCxFQUFPbkIsaUNBQVAsQ0FBNUI7QUFDRDtBQVBILEtBTkYsQ0FYSixDQURGO0FBK0JELENBckZEOztlQXVGZUMsVyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwge3VzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZn0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IGRheWpzIGZyb20gJ2RheWpzJztcbmltcG9ydCBFelRleHRJbnB1dCBmcm9tICcuL0V6VGV4dElucHV0JztcbmltcG9ydCB7Q2FsZW5kYXJXcmFwcGVyLCBDb250YWluZXIsIENvbWJvYm94fSBmcm9tICcuL0V6RGF0ZUlucHV0LnN0eWxlcyc7XG5pbXBvcnQgRXpDYWxlbmRhciBmcm9tICcuLi9FekNhbGVuZGFyL0V6Q2FsZW5kYXInO1xuaW1wb3J0IHt1c2VDb21ib2JveFN0YXRlLCB1c2VDb21ib2JveCwgdXNlQ29tYm9ib3hJbnB1dCwgdXNlQ29tYm9ib3hGbHlvdXR9IGZyb20gJy4vRXpDb21ib2JveCc7XG5pbXBvcnQge3VzZVVwZGF0ZUVmZmVjdH0gZnJvbSAnLi4vLi4vdXRpbHMvaG9va3MnO1xuaW1wb3J0IHtDaGV2cm9uSWNvbiwgQ2FsZW5kYXJJY29uLCBJbnNldEljb259IGZyb20gJy4uL0ljb25zJztcblxuY29uc3QgQ0xPU0VfQ0FMRU5EQVJfT05fU0VMRUNUX0RFTEFZX01TID0gMTAwO1xuXG5jb25zdCBFekRhdGVJbnB1dCA9ICh7XG4gIGlkLFxuICBuYW1lLFxuICBkaXNhYmxlZCxcbiAgb25DaGFuZ2UsXG4gICdhcmlhLWxhYmVsbGVkYnknOiBhcmlhTGFiZWxsZWRCeSxcbiAgLi4ucHJvcHNcbn0pID0+IHtcbiAgY29uc3Qge3BsYWNlaG9sZGVyID0gJ1NlbGVjdCBkYXRlJ30gPSBwcm9wcztcblxuICBjb25zdCBbdmFsdWUsIHNldFZhbHVlXSA9IHVzZVN0YXRlKHByb3BzLnZhbHVlKTtcbiAgY29uc3QgW3ZhbGlkRGF0ZSwgc2V0VmFsaWREYXRlXSA9IHVzZVN0YXRlKG51bGwpO1xuXG4gIGNvbnN0IGNvbWJvYm94U3RhdGUgPSB1c2VDb21ib2JveFN0YXRlKCk7XG4gIGNvbnN0IHtyZWY6IGNsaWNrT3V0c2lkZVJlZiwgLi4uY29tYm9ib3h9ID0gdXNlQ29tYm9ib3goY29tYm9ib3hTdGF0ZSwge1xuICAgIC4uLnByb3BzLFxuICAgICdhcmlhLWhhc3BvcHVwJzogdHJ1ZSxcbiAgICBkaXNhYmxlZCxcbiAgICBvcGVuZWQ6IGNvbWJvYm94U3RhdGUudmlzaWJsZSxcbiAgfSk7XG5cbiAgY29uc3Qge2hpZGUsIHZpc2libGV9ID0gY29tYm9ib3hTdGF0ZTtcblxuICBjb25zdCB0aW1lb3V0ID0gdXNlUmVmKG51bGwpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiAoKSA9PiBjbGVhclRpbWVvdXQodGltZW91dC5jdXJyZW50KSwgW10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGRheWpzKHZhbHVlKS5pc1ZhbGlkKCkpIHNldFZhbGlkRGF0ZSh2YWx1ZSk7XG4gIH0sIFt2YWx1ZV0pO1xuXG4gIHVzZVVwZGF0ZUVmZmVjdCgoKSA9PiB7XG4gICAgb25DaGFuZ2UodmFsaWREYXRlKTtcbiAgfSwgW3ZhbGlkRGF0ZSwgb25DaGFuZ2VdKTtcblxuICBjb25zdCBjb21ib2JveElucHV0ID0gdXNlQ29tYm9ib3hJbnB1dChjb21ib2JveFN0YXRlLCB7XG4gICAgaWQsXG4gICAgbmFtZSxcbiAgICB2YWx1ZSxcbiAgICAnYXJpYS1sYWJlbGxlZGJ5JzogYXJpYUxhYmVsbGVkQnksXG4gICAgb25DaGFuZ2U6IGUgPT4ge1xuICAgICAgc2V0VmFsdWUoZS50YXJnZXQudmFsdWUpO1xuICAgICAgb25DaGFuZ2UoZS50YXJnZXQudmFsdWUpO1xuICAgIH0sXG4gICAgZGlzYWJsZWQsXG4gICAgcGxhY2Vob2xkZXIsXG4gICAgZXJyb3I6IHByb3BzLmVycm9yLFxuICAgIHRvdWNoZWQ6IHByb3BzLnRvdWNoZWQsXG4gIH0pO1xuXG4gIGNvbnN0IGNvbWJvYm94Rmx5b3V0ID0gdXNlQ29tYm9ib3hGbHlvdXQoY29tYm9ib3hTdGF0ZSk7XG5cbiAgY29uc3Qge21pbkRhdGUsIG1heERhdGUsIGZpbHRlckRhdGV9ID0gcHJvcHM7XG5cbiAgcmV0dXJuIChcbiAgICA8Q29udGFpbmVyIHJlZj17Y2xpY2tPdXRzaWRlUmVmfSBoYXNFcnJvcj17cHJvcHMudG91Y2hlZCAmJiBwcm9wcy5lcnJvcn0gb3BlbmVkPXt2aXNpYmxlfT5cbiAgICAgIDxDb21ib2JveCB7Li4uY29tYm9ib3h9PlxuICAgICAgICA8SW5zZXRJY29uIGluc2V0WTAgbGVmdDAgcGwzPlxuICAgICAgICAgIDxDYWxlbmRhckljb24gLz5cbiAgICAgICAgPC9JbnNldEljb24+XG4gICAgICAgIDxFelRleHRJbnB1dCB7Li4uY29tYm9ib3hJbnB1dH0gLz5cbiAgICAgICAgPEluc2V0SWNvbiBpbnNldFkwIHJpZ2h0MCBwcjI+XG4gICAgICAgICAgPENoZXZyb25JY29uIGZsaXA9e3Zpc2libGV9IC8+XG4gICAgICAgIDwvSW5zZXRJY29uPlxuICAgICAgPC9Db21ib2JveD5cbiAgICAgIHt2aXNpYmxlICYmIChcbiAgICAgICAgPENhbGVuZGFyV3JhcHBlclxuICAgICAgICAgIHsuLi5jb21ib2JveEZseW91dH1cbiAgICAgICAgICBvbktleURvd249e2V2ZW50ID0+IHtcbiAgICAgICAgICAgIGlmIChldmVudC5rZXkgPT09ICdFc2NhcGUnKSBoaWRlKCk7XG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIDxFekNhbGVuZGFyXG4gICAgICAgICAgICB7Li4ue21pbkRhdGUsIG1heERhdGUsIGZpbHRlckRhdGV9fVxuICAgICAgICAgICAgdmFsdWU9e3ZhbGlkRGF0ZX1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXtkYXRlID0+IHtcbiAgICAgICAgICAgICAgc2V0VmFsdWUoZGF0ZSk7XG4gICAgICAgICAgICAgIGNvbWJvYm94SW5wdXQucmVmLmN1cnJlbnQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgdGltZW91dC5jdXJyZW50ID0gc2V0VGltZW91dChoaWRlLCBDTE9TRV9DQUxFTkRBUl9PTl9TRUxFQ1RfREVMQVlfTVMpO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L0NhbGVuZGFyV3JhcHBlcj5cbiAgICAgICl9XG4gICAgPC9Db250YWluZXI+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBFekRhdGVJbnB1dDtcbiJdfQ==