"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = exports.DisabledButtonWrapper = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _react = _interopRequireWildcard(require("react"));

var _core = require("@emotion/core");

var _styledComponentVariant = _interopRequireDefault(require("styled-component-variant"));

var _styled = _interopRequireDefault(require("../../themes/styled"));

var _styles = require("../../styles");

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2["default"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

var base = function base(_ref) {
  var theme = _ref.theme;
  return (
    /*#__PURE__*/
    (0, _core.css)("cursor:pointer;display:inline-block;outline:0;font-size:", theme.baseFontSize, ";font-family:", theme.baseFontFamily, ";font-weight:", theme.fontWeights.bold, ";line-height:1.25rem;min-height:1rem;text-decoration:none;user-select:none;white-space:nowrap;-webkit-tap-highlight-color:transparent;")
  );
};

var disabled = function disabled(_ref2) {
  var isDisabled = _ref2.disabled;
  return isDisabled &&
  /*#__PURE__*/
  (0, _core.css)("cursor:default;opacity:0.45;pointer-events:none;");
};

var outlineStyles = function outlineStyles(_ref3) {
  var theme = _ref3.theme;
  return (
    /*#__PURE__*/
    (0, _core.css)("border-radius:", theme.borderRadius[1], ";border-style:solid;border-width:", theme.borderWidth[0], ";box-shadow:0 1px 1px 0 rgba(0,0,0,0.12);padding:calc(", theme.spacing.xs, " - 0.125rem) ", theme.spacing.md, ";:focus{box-shadow:0px 0px 2px 2px ", theme.colors.interactive.focus.outline, ",0 1px 1px 0 rgba(0,0,0,0.12);}")
  );
};

var outline = (0, _styledComponentVariant["default"])('use', {
  primary: outlineStyles,
  secondary: outlineStyles
});

var primary = function primary(_ref4) {
  var colors = _ref4.theme.colors,
      destructive = _ref4.destructive;
  var color = destructive ? colors.destructive.foreground : colors.interactive.base;
  return (
    /*#__PURE__*/
    (0, _core.css)("color:", colors.white, ";border-color:", color, ";", (0, _styles.pseudoClasses)('border-color', {
      color: color,
      focusColor: (0, _styles.darken)(color, 0.25)
    }), ";", (0, _styles.pseudoClasses)('background-color', {
      color: color
    }), ";")
  );
};

var secondary = function secondary(_ref5) {
  var colors = _ref5.theme.colors,
      destructive = _ref5.destructive;
  var color = destructive ? colors.destructive.foreground : colors.interactive.base;
  var borderColor = colors.border.base;
  var focusColor = colors.interactive.focus.outline;
  return (
    /*#__PURE__*/
    (0, _core.css)("background-color:white;border:solid 1px;", (0, _styles.pseudoClasses)('border-color', {
      color: borderColor,
      focusColor: focusColor
    }), ";", (0, _styles.pseudoClasses)('color', {
      color: color
    }), ";&:hover:enabled{background-color:", colors.interactive.hover.background, ";}&:active:enabled{background-color:", colors.interactive.active.background, ";}")
  );
};

var tertiary = function tertiary(_ref6) {
  var colors = _ref6.theme.colors,
      destructive = _ref6.destructive;
  var color = destructive ? colors.destructive.foreground : colors.interactive.base;
  return (
    /*#__PURE__*/
    (0, _core.css)("background:none;border:none;line-height:1rem;padding:0;", (0, _styles.pseudoClasses)('color', {
      color: color
    }), ";&:focus{outline:auto;}&:hover{text-decoration:underline;}")
  );
};

var spinnerSize = 1.28571429;
var spinnerOptions = {
  size: "".concat(spinnerSize, "rem"),
  margin: "".concat(spinnerSize / 2, "rem"),
  thickness: '0.2rem',
  radius: '10rem'
};

var spinner = function spinner(_ref7) {
  var margin = _ref7.margin,
      size = _ref7.size,
      radius = _ref7.radius,
      thickness = _ref7.thickness,
      color = _ref7.color;
  return (
    /*#__PURE__*/
    (0, _core.css)("position:relative;color:transparent;&::before{position:absolute;content:'';top:50%;left:50%;margin:-", margin, " 0 0 -", margin, ";width:", size, ";height:", size, ";border-radius:", radius, ";border:", thickness, " solid rgba(0,0,0,0.15);}&::after{position:absolute;content:'';top:50%;left:50%;margin:-", margin, " 0 0 -", margin, ";width:", size, ";height:", size, ";animation:", _styles.keyframes.spin(), " 0.6s linear;animation-iteration-count:infinite;border-radius:", radius, ";border-color:", color, " transparent transparent;border-style:solid;border-width:", thickness, ";box-shadow:0 0 0 1px transparent;}")
  );
};

var loading = function loading(_ref8) {
  var isLoading = _ref8.isLoading,
      use = _ref8.use,
      colors = _ref8.theme.colors;
  var color = (0, _styledComponentVariant["default"])('use', {
    primary: colors.white,
    secondary: colors.grays[700]
  })({
    use: use
  });
  return isLoading && spinner(_objectSpread({}, spinnerOptions, {
    color: color
  }));
};

var use = (0, _styledComponentVariant["default"])('use', {
  primary: primary,
  secondary: secondary,
  tertiary: tertiary
});
var baseStyles = [base, use, disabled, loading, outline];
var InlineBlockWrapper =
/*#__PURE__*/
(0, _styled["default"])("div", {
  target: "e1g91c7j0"
})("display:inline-block;");
var DisabledButtonWrapper = (0, _react.forwardRef)(function (props, ref) {
  return _react["default"].createElement(InlineBlockWrapper, (0, _extends2["default"])({
    ref: ref
  }, props), props.children);
});
exports.DisabledButtonWrapper = DisabledButtonWrapper;

var _default =
/*#__PURE__*/
(0, _styled["default"])('button', {
  target: "e1g91c7j1"
}).apply(void 0, baseStyles);

exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0V6QnV0dG9uL0V6QnV0dG9uLnN0eWxlcy50c3giXSwibmFtZXMiOlsiYmFzZSIsInRoZW1lIiwiY3NzIiwiYmFzZUZvbnRTaXplIiwiYmFzZUZvbnRGYW1pbHkiLCJmb250V2VpZ2h0cyIsImJvbGQiLCJkaXNhYmxlZCIsImlzRGlzYWJsZWQiLCJvdXRsaW5lU3R5bGVzIiwiYm9yZGVyUmFkaXVzIiwiYm9yZGVyV2lkdGgiLCJzcGFjaW5nIiwieHMiLCJtZCIsImNvbG9ycyIsImludGVyYWN0aXZlIiwiZm9jdXMiLCJvdXRsaW5lIiwicHJpbWFyeSIsInNlY29uZGFyeSIsImRlc3RydWN0aXZlIiwiY29sb3IiLCJmb3JlZ3JvdW5kIiwid2hpdGUiLCJmb2N1c0NvbG9yIiwiYm9yZGVyQ29sb3IiLCJib3JkZXIiLCJob3ZlciIsImJhY2tncm91bmQiLCJhY3RpdmUiLCJ0ZXJ0aWFyeSIsInNwaW5uZXJTaXplIiwic3Bpbm5lck9wdGlvbnMiLCJzaXplIiwibWFyZ2luIiwidGhpY2tuZXNzIiwicmFkaXVzIiwic3Bpbm5lciIsImtleWZyYW1lcyIsInNwaW4iLCJsb2FkaW5nIiwiaXNMb2FkaW5nIiwidXNlIiwiZ3JheXMiLCJiYXNlU3R5bGVzIiwiSW5saW5lQmxvY2tXcmFwcGVyIiwic3R5bGVkIiwiRGlzYWJsZWRCdXR0b25XcmFwcGVyIiwicHJvcHMiLCJyZWYiLCJjaGlsZHJlbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7OztBQUVBLElBQU1BLElBQUksR0FBRyxTQUFQQSxJQUFPO0FBQUEsTUFBRUMsS0FBRixRQUFFQSxLQUFGO0FBQUE7QUFBQTtBQUFBLFFBQWFDLFNBQWIsOERBSUVELEtBQUssQ0FBQ0UsWUFKUixtQkFLSUYsS0FBSyxDQUFDRyxjQUxWLG1CQU1JSCxLQUFLLENBQUNJLFdBQU4sQ0FBa0JDLElBTnRCO0FBQUE7QUFBQSxDQUFiOztBQWVBLElBQU1DLFFBQVEsR0FBRyxTQUFYQSxRQUFXO0FBQUEsTUFBWUMsVUFBWixTQUFFRCxRQUFGO0FBQUEsU0FDZkMsVUFBVTtBQUFBO0FBQUEsTUFDVk4sU0FEVSxxREFESztBQUFBLENBQWpCOztBQVFBLElBQU1PLGFBQWEsR0FBRyxTQUFoQkEsYUFBZ0I7QUFBQSxNQUFFUixLQUFGLFNBQUVBLEtBQUY7QUFBQTtBQUFBO0FBQUEsUUFBYUMsU0FBYixvQkFDSEQsS0FBSyxDQUFDUyxZQUFOLENBQW1CLENBQW5CLENBREcsdUNBR0pULEtBQUssQ0FBQ1UsV0FBTixDQUFrQixDQUFsQixDQUhJLDREQVNKVixLQUFLLENBQUNXLE9BQU4sQ0FBY0MsRUFUVixtQkFTNEJaLEtBQUssQ0FBQ1csT0FBTixDQUFjRSxFQVQxQyx5Q0FZWWIsS0FBSyxDQUFDYyxNQUFOLENBQWFDLFdBQWIsQ0FBeUJDLEtBQXpCLENBQStCQyxPQVozQztBQUFBO0FBQUEsQ0FBdEI7O0FBaUJBLElBQU1BLE9BQU8sR0FBRyx3Q0FBUSxLQUFSLEVBQWU7QUFDN0JDLEVBQUFBLE9BQU8sRUFBRVYsYUFEb0I7QUFFN0JXLEVBQUFBLFNBQVMsRUFBRVg7QUFGa0IsQ0FBZixDQUFoQjs7QUFLQSxJQUFNVSxPQUFPLEdBQUcsU0FBVkEsT0FBVSxRQUFvQztBQUFBLE1BQTFCSixNQUEwQixTQUFsQ2QsS0FBa0MsQ0FBMUJjLE1BQTBCO0FBQUEsTUFBakJNLFdBQWlCLFNBQWpCQSxXQUFpQjtBQUNsRCxNQUFNQyxLQUFLLEdBQUdELFdBQVcsR0FBR04sTUFBTSxDQUFDTSxXQUFQLENBQW1CRSxVQUF0QixHQUFtQ1IsTUFBTSxDQUFDQyxXQUFQLENBQW1CaEIsSUFBL0U7QUFDQTtBQUFBO0FBQUEsUUFBT0UsU0FBUCxZQUNXYSxNQUFNLENBQUNTLEtBRGxCLG9CQUVrQkYsS0FGbEIsT0FHSSwyQkFBYyxjQUFkLEVBQThCO0FBQUNBLE1BQUFBLEtBQUssRUFBTEEsS0FBRDtBQUFRRyxNQUFBQSxVQUFVLEVBQUUsb0JBQU9ILEtBQVAsRUFBYyxJQUFkO0FBQXBCLEtBQTlCLENBSEosT0FJSSwyQkFBYyxrQkFBZCxFQUFrQztBQUFDQSxNQUFBQSxLQUFLLEVBQUxBO0FBQUQsS0FBbEMsQ0FKSjtBQUFBO0FBTUQsQ0FSRDs7QUFVQSxJQUFNRixTQUFTLEdBQUcsU0FBWkEsU0FBWSxRQUFvQztBQUFBLE1BQTFCTCxNQUEwQixTQUFsQ2QsS0FBa0MsQ0FBMUJjLE1BQTBCO0FBQUEsTUFBakJNLFdBQWlCLFNBQWpCQSxXQUFpQjtBQUNwRCxNQUFNQyxLQUFLLEdBQUdELFdBQVcsR0FBR04sTUFBTSxDQUFDTSxXQUFQLENBQW1CRSxVQUF0QixHQUFtQ1IsTUFBTSxDQUFDQyxXQUFQLENBQW1CaEIsSUFBL0U7QUFDQSxNQUFNMEIsV0FBVyxHQUFHWCxNQUFNLENBQUNZLE1BQVAsQ0FBYzNCLElBQWxDO0FBQ0EsTUFBTXlCLFVBQVUsR0FBR1YsTUFBTSxDQUFDQyxXQUFQLENBQW1CQyxLQUFuQixDQUF5QkMsT0FBNUM7QUFDQTtBQUFBO0FBQUEsUUFBT2hCLFNBQVAsOENBR0ksMkJBQWMsY0FBZCxFQUE4QjtBQUFDb0IsTUFBQUEsS0FBSyxFQUFFSSxXQUFSO0FBQXFCRCxNQUFBQSxVQUFVLEVBQVZBO0FBQXJCLEtBQTlCLENBSEosT0FJSSwyQkFBYyxPQUFkLEVBQXVCO0FBQUNILE1BQUFBLEtBQUssRUFBTEE7QUFBRCxLQUF2QixDQUpKLHdDQU13QlAsTUFBTSxDQUFDQyxXQUFQLENBQW1CWSxLQUFuQixDQUF5QkMsVUFOakQsMENBU3dCZCxNQUFNLENBQUNDLFdBQVAsQ0FBbUJjLE1BQW5CLENBQTBCRCxVQVRsRDtBQUFBO0FBWUQsQ0FoQkQ7O0FBa0JBLElBQU1FLFFBQVEsR0FBRyxTQUFYQSxRQUFXLFFBQW9DO0FBQUEsTUFBMUJoQixNQUEwQixTQUFsQ2QsS0FBa0MsQ0FBMUJjLE1BQTBCO0FBQUEsTUFBakJNLFdBQWlCLFNBQWpCQSxXQUFpQjtBQUNuRCxNQUFNQyxLQUFLLEdBQUdELFdBQVcsR0FBR04sTUFBTSxDQUFDTSxXQUFQLENBQW1CRSxVQUF0QixHQUFtQ1IsTUFBTSxDQUFDQyxXQUFQLENBQW1CaEIsSUFBL0U7QUFDQTtBQUFBO0FBQUEsUUFBT0UsU0FBUCw2REFLSSwyQkFBYyxPQUFkLEVBQXVCO0FBQUNvQixNQUFBQSxLQUFLLEVBQUxBO0FBQUQsS0FBdkIsQ0FMSjtBQUFBO0FBZUQsQ0FqQkQ7O0FBbUJBLElBQU1VLFdBQVcsR0FBRyxVQUFwQjtBQUNBLElBQU1DLGNBQWMsR0FBRztBQUNyQkMsRUFBQUEsSUFBSSxZQUFLRixXQUFMLFFBRGlCO0FBRXJCRyxFQUFBQSxNQUFNLFlBQUtILFdBQVcsR0FBRyxDQUFuQixRQUZlO0FBR3JCSSxFQUFBQSxTQUFTLEVBQUUsUUFIVTtBQUlyQkMsRUFBQUEsTUFBTSxFQUFFO0FBSmEsQ0FBdkI7O0FBT0EsSUFBTUMsT0FBTyxHQUFHLFNBQVZBLE9BQVU7QUFBQSxNQUFFSCxNQUFGLFNBQUVBLE1BQUY7QUFBQSxNQUFVRCxJQUFWLFNBQVVBLElBQVY7QUFBQSxNQUFnQkcsTUFBaEIsU0FBZ0JBLE1BQWhCO0FBQUEsTUFBd0JELFNBQXhCLFNBQXdCQSxTQUF4QjtBQUFBLE1BQW1DZCxLQUFuQyxTQUFtQ0EsS0FBbkM7QUFBQTtBQUFBO0FBQUEsUUFBOENwQixTQUE5QywwR0FTRGlDLE1BVEMsWUFTY0EsTUFUZCxhQVVIRCxJQVZHLGNBV0ZBLElBWEUscUJBWUtHLE1BWkwsY0FhRkQsU0FiRSw4RkFxQkRELE1BckJDLFlBcUJjQSxNQXJCZCxhQXNCSEQsSUF0QkcsY0F1QkZBLElBdkJFLGlCQXdCQ0ssa0JBQVVDLElBQVYsRUF4QkQsb0VBMEJLSCxNQTFCTCxvQkEyQklmLEtBM0JKLCtEQTZCSWMsU0E3Qko7QUFBQTtBQUFBLENBQWhCOztBQWtDQSxJQUFNSyxPQUFPLEdBQUcsU0FBVkEsT0FBVSxRQUF1QztBQUFBLE1BQXJDQyxTQUFxQyxTQUFyQ0EsU0FBcUM7QUFBQSxNQUExQkMsR0FBMEIsU0FBMUJBLEdBQTBCO0FBQUEsTUFBYjVCLE1BQWEsU0FBckJkLEtBQXFCLENBQWJjLE1BQWE7QUFDckQsTUFBTU8sS0FBSyxHQUFHLHdDQUFRLEtBQVIsRUFBZTtBQUMzQkgsSUFBQUEsT0FBTyxFQUFFSixNQUFNLENBQUNTLEtBRFc7QUFFM0JKLElBQUFBLFNBQVMsRUFBRUwsTUFBTSxDQUFDNkIsS0FBUCxDQUFhLEdBQWI7QUFGZ0IsR0FBZixFQUdYO0FBQUNELElBQUFBLEdBQUcsRUFBSEE7QUFBRCxHQUhXLENBQWQ7QUFJQSxTQUFPRCxTQUFTLElBQUlKLE9BQU8sbUJBQUtMLGNBQUw7QUFBcUJYLElBQUFBLEtBQUssRUFBTEE7QUFBckIsS0FBM0I7QUFDRCxDQU5EOztBQVFBLElBQU1xQixHQUFHLEdBQUcsd0NBQVEsS0FBUixFQUFlO0FBQ3pCeEIsRUFBQUEsT0FBTyxFQUFQQSxPQUR5QjtBQUV6QkMsRUFBQUEsU0FBUyxFQUFUQSxTQUZ5QjtBQUd6QlcsRUFBQUEsUUFBUSxFQUFSQTtBQUh5QixDQUFmLENBQVo7QUFNQSxJQUFNYyxVQUFVLEdBQUcsQ0FBQzdDLElBQUQsRUFBTzJDLEdBQVAsRUFBWXBDLFFBQVosRUFBc0JrQyxPQUF0QixFQUErQnZCLE9BQS9CLENBQW5CO0FBRUEsSUFBTTRCLGtCQUFrQjtBQUFBO0FBQUEsSUFBR0Msa0JBQUg7QUFBQTtBQUFBLDJCQUF4QjtBQUlPLElBQU1DLHFCQUFxQixHQUFHLHVCQUFxQixVQUFDQyxLQUFELEVBQVFDLEdBQVI7QUFBQSxTQUN4RCxnQ0FBQyxrQkFBRDtBQUFvQixJQUFBLEdBQUcsRUFBRUE7QUFBekIsS0FBa0NELEtBQWxDLEdBQ0dBLEtBQUssQ0FBQ0UsUUFEVCxDQUR3RDtBQUFBLENBQXJCLENBQTlCOzs7OztJQU1RSixrQixFQUFPLFE7O2lCQUFhRixVIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7Zm9yd2FyZFJlZn0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtjc3N9IGZyb20gJ0BlbW90aW9uL2NvcmUnO1xuaW1wb3J0IHZhcmlhbnQgZnJvbSAnc3R5bGVkLWNvbXBvbmVudC12YXJpYW50JztcbmltcG9ydCBzdHlsZWQgZnJvbSAnLi4vLi4vdGhlbWVzL3N0eWxlZCc7XG5pbXBvcnQge2tleWZyYW1lcywgZGFya2VuLCBwc2V1ZG9DbGFzc2VzfSBmcm9tICcuLi8uLi9zdHlsZXMnO1xuXG5jb25zdCBiYXNlID0gKHt0aGVtZX0pID0+IGNzc2BcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIG91dGxpbmU6IDA7XG4gIGZvbnQtc2l6ZTogJHt0aGVtZS5iYXNlRm9udFNpemV9O1xuICBmb250LWZhbWlseTogJHt0aGVtZS5iYXNlRm9udEZhbWlseX07XG4gIGZvbnQtd2VpZ2h0OiAke3RoZW1lLmZvbnRXZWlnaHRzLmJvbGR9O1xuICBsaW5lLWhlaWdodDogMS4yNXJlbTtcbiAgbWluLWhlaWdodDogMXJlbTtcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDtcbmA7XG5cbmNvbnN0IGRpc2FibGVkID0gKHtkaXNhYmxlZDogaXNEaXNhYmxlZH0pID0+XG4gIGlzRGlzYWJsZWQgJiZcbiAgY3NzYFxuICAgIGN1cnNvcjogZGVmYXVsdDtcbiAgICBvcGFjaXR5OiAwLjQ1O1xuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICBgO1xuXG5jb25zdCBvdXRsaW5lU3R5bGVzID0gKHt0aGVtZX0pID0+IGNzc2BcbiAgYm9yZGVyLXJhZGl1czogJHt0aGVtZS5ib3JkZXJSYWRpdXNbMV19O1xuICBib3JkZXItc3R5bGU6IHNvbGlkO1xuICBib3JkZXItd2lkdGg6ICR7dGhlbWUuYm9yZGVyV2lkdGhbMF19O1xuICBib3gtc2hhZG93OiAwIDFweCAxcHggMCByZ2JhKDAsIDAsIDAsIDAuMTIpO1xuICAvKiBcbiAgICBpbnB1dHMgYW5kIGJ1dHRvbnMgc2hvdWxkIGJlIGVxdWl2YWxlbnQgaW4gc2l6ZSwgYnV0IHNpbmNlIGlucHV0cyBjYW4ndCBiZSBhIGxpbmUtaGVpZ2h0IGxvd2VyIHRoYW4gMS4yNWVtXG4gICAgd2UgaGF2ZSB0byB1c2UgYSBsaW5lLWhlaWdodCBvZiAxLjI1cmVtIGFuZCBkZWR1Y3QgdGhlIGFkZGl0aW9uYWwgMC4yNXJlbSBmcm9tIHRoZSB2ZXJ0aWNhbCBwYWRkaW5nXG4gICovXG4gIHBhZGRpbmc6IGNhbGMoJHt0aGVtZS5zcGFjaW5nLnhzfSAtIDAuMTI1cmVtKSAke3RoZW1lLnNwYWNpbmcubWR9O1xuXG4gIDpmb2N1cyB7XG4gICAgYm94LXNoYWRvdzogMHB4IDBweCAycHggMnB4ICR7dGhlbWUuY29sb3JzLmludGVyYWN0aXZlLmZvY3VzLm91dGxpbmV9LFxuICAgICAgMCAxcHggMXB4IDAgcmdiYSgwLCAwLCAwLCAwLjEyKTtcbiAgfVxuYDtcblxuY29uc3Qgb3V0bGluZSA9IHZhcmlhbnQoJ3VzZScsIHtcbiAgcHJpbWFyeTogb3V0bGluZVN0eWxlcyxcbiAgc2Vjb25kYXJ5OiBvdXRsaW5lU3R5bGVzLFxufSk7XG5cbmNvbnN0IHByaW1hcnkgPSAoe3RoZW1lOiB7Y29sb3JzfSwgZGVzdHJ1Y3RpdmV9KSA9PiB7XG4gIGNvbnN0IGNvbG9yID0gZGVzdHJ1Y3RpdmUgPyBjb2xvcnMuZGVzdHJ1Y3RpdmUuZm9yZWdyb3VuZCA6IGNvbG9ycy5pbnRlcmFjdGl2ZS5iYXNlO1xuICByZXR1cm4gY3NzYFxuICAgIGNvbG9yOiAke2NvbG9ycy53aGl0ZX07XG4gICAgYm9yZGVyLWNvbG9yOiAke2NvbG9yfTtcbiAgICAke3BzZXVkb0NsYXNzZXMoJ2JvcmRlci1jb2xvcicsIHtjb2xvciwgZm9jdXNDb2xvcjogZGFya2VuKGNvbG9yLCAwLjI1KX0pfTtcbiAgICAke3BzZXVkb0NsYXNzZXMoJ2JhY2tncm91bmQtY29sb3InLCB7Y29sb3J9KX07XG4gIGA7XG59O1xuXG5jb25zdCBzZWNvbmRhcnkgPSAoe3RoZW1lOiB7Y29sb3JzfSwgZGVzdHJ1Y3RpdmV9KSA9PiB7XG4gIGNvbnN0IGNvbG9yID0gZGVzdHJ1Y3RpdmUgPyBjb2xvcnMuZGVzdHJ1Y3RpdmUuZm9yZWdyb3VuZCA6IGNvbG9ycy5pbnRlcmFjdGl2ZS5iYXNlO1xuICBjb25zdCBib3JkZXJDb2xvciA9IGNvbG9ycy5ib3JkZXIuYmFzZTtcbiAgY29uc3QgZm9jdXNDb2xvciA9IGNvbG9ycy5pbnRlcmFjdGl2ZS5mb2N1cy5vdXRsaW5lO1xuICByZXR1cm4gY3NzYFxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICAgIGJvcmRlcjogc29saWQgMXB4O1xuICAgICR7cHNldWRvQ2xhc3NlcygnYm9yZGVyLWNvbG9yJywge2NvbG9yOiBib3JkZXJDb2xvciwgZm9jdXNDb2xvcn0pfTtcbiAgICAke3BzZXVkb0NsYXNzZXMoJ2NvbG9yJywge2NvbG9yfSl9O1xuICAgICY6aG92ZXI6ZW5hYmxlZCB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke2NvbG9ycy5pbnRlcmFjdGl2ZS5ob3Zlci5iYWNrZ3JvdW5kfTtcbiAgICB9XG4gICAgJjphY3RpdmU6ZW5hYmxlZCB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke2NvbG9ycy5pbnRlcmFjdGl2ZS5hY3RpdmUuYmFja2dyb3VuZH07XG4gICAgfVxuICBgO1xufTtcblxuY29uc3QgdGVydGlhcnkgPSAoe3RoZW1lOiB7Y29sb3JzfSwgZGVzdHJ1Y3RpdmV9KSA9PiB7XG4gIGNvbnN0IGNvbG9yID0gZGVzdHJ1Y3RpdmUgPyBjb2xvcnMuZGVzdHJ1Y3RpdmUuZm9yZWdyb3VuZCA6IGNvbG9ycy5pbnRlcmFjdGl2ZS5iYXNlO1xuICByZXR1cm4gY3NzYFxuICAgIGJhY2tncm91bmQ6IG5vbmU7XG4gICAgYm9yZGVyOiBub25lO1xuICAgIGxpbmUtaGVpZ2h0OiAxcmVtO1xuICAgIHBhZGRpbmc6IDA7XG4gICAgJHtwc2V1ZG9DbGFzc2VzKCdjb2xvcicsIHtjb2xvcn0pfTtcblxuICAgICY6Zm9jdXMge1xuICAgICAgb3V0bGluZTogYXV0bztcbiAgICB9XG5cbiAgICAmOmhvdmVyIHtcbiAgICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xuICAgIH1cbiAgYDtcbn07XG5cbmNvbnN0IHNwaW5uZXJTaXplID0gMS4yODU3MTQyOTtcbmNvbnN0IHNwaW5uZXJPcHRpb25zID0ge1xuICBzaXplOiBgJHtzcGlubmVyU2l6ZX1yZW1gLFxuICBtYXJnaW46IGAke3NwaW5uZXJTaXplIC8gMn1yZW1gLFxuICB0aGlja25lc3M6ICcwLjJyZW0nLFxuICByYWRpdXM6ICcxMHJlbScsXG59O1xuXG5jb25zdCBzcGlubmVyID0gKHttYXJnaW4sIHNpemUsIHJhZGl1cywgdGhpY2tuZXNzLCBjb2xvcn0pID0+IGNzc2BcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBjb2xvcjogdHJhbnNwYXJlbnQ7XG5cbiAgJjo6YmVmb3JlIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgY29udGVudDogJyc7XG4gICAgdG9wOiA1MCU7XG4gICAgbGVmdDogNTAlO1xuICAgIG1hcmdpbjogLSR7bWFyZ2lufSAwIDAgLSR7bWFyZ2lufTtcbiAgICB3aWR0aDogJHtzaXplfTtcbiAgICBoZWlnaHQ6ICR7c2l6ZX07XG4gICAgYm9yZGVyLXJhZGl1czogJHtyYWRpdXN9O1xuICAgIGJvcmRlcjogJHt0aGlja25lc3N9IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4xNSk7XG4gIH1cblxuICAmOjphZnRlciB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGNvbnRlbnQ6ICcnO1xuICAgIHRvcDogNTAlO1xuICAgIGxlZnQ6IDUwJTtcbiAgICBtYXJnaW46IC0ke21hcmdpbn0gMCAwIC0ke21hcmdpbn07XG4gICAgd2lkdGg6ICR7c2l6ZX07XG4gICAgaGVpZ2h0OiAke3NpemV9O1xuICAgIGFuaW1hdGlvbjogJHtrZXlmcmFtZXMuc3BpbigpfSAwLjZzIGxpbmVhcjtcbiAgICBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50OiBpbmZpbml0ZTtcbiAgICBib3JkZXItcmFkaXVzOiAke3JhZGl1c307XG4gICAgYm9yZGVyLWNvbG9yOiAke2NvbG9yfSB0cmFuc3BhcmVudCB0cmFuc3BhcmVudDtcbiAgICBib3JkZXItc3R5bGU6IHNvbGlkO1xuICAgIGJvcmRlci13aWR0aDogJHt0aGlja25lc3N9O1xuICAgIGJveC1zaGFkb3c6IDAgMCAwIDFweCB0cmFuc3BhcmVudDtcbiAgfVxuYDtcblxuY29uc3QgbG9hZGluZyA9ICh7aXNMb2FkaW5nLCB1c2UsIHRoZW1lOiB7Y29sb3JzfX0pID0+IHtcbiAgY29uc3QgY29sb3IgPSB2YXJpYW50KCd1c2UnLCB7XG4gICAgcHJpbWFyeTogY29sb3JzLndoaXRlLFxuICAgIHNlY29uZGFyeTogY29sb3JzLmdyYXlzWzcwMF0sXG4gIH0pKHt1c2V9KTtcbiAgcmV0dXJuIGlzTG9hZGluZyAmJiBzcGlubmVyKHsuLi5zcGlubmVyT3B0aW9ucywgY29sb3J9KTtcbn07XG5cbmNvbnN0IHVzZSA9IHZhcmlhbnQoJ3VzZScsIHtcbiAgcHJpbWFyeSxcbiAgc2Vjb25kYXJ5LFxuICB0ZXJ0aWFyeSxcbn0pO1xuXG5jb25zdCBiYXNlU3R5bGVzID0gW2Jhc2UsIHVzZSwgZGlzYWJsZWQsIGxvYWRpbmcsIG91dGxpbmVdO1xuXG5jb25zdCBJbmxpbmVCbG9ja1dyYXBwZXIgPSBzdHlsZWQuZGl2YFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG5gO1xuXG5leHBvcnQgY29uc3QgRGlzYWJsZWRCdXR0b25XcmFwcGVyID0gZm9yd2FyZFJlZjxhbnksIGFueT4oKHByb3BzLCByZWYpID0+IChcbiAgPElubGluZUJsb2NrV3JhcHBlciByZWY9e3JlZn0gey4uLnByb3BzfT5cbiAgICB7cHJvcHMuY2hpbGRyZW59XG4gIDwvSW5saW5lQmxvY2tXcmFwcGVyPlxuKSk7XG5cbmV4cG9ydCBkZWZhdWx0IHN0eWxlZCgnYnV0dG9uJykoLi4uYmFzZVN0eWxlcyk7XG4iXX0=