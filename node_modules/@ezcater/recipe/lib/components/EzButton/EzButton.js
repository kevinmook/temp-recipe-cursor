"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _react = _interopRequireWildcard(require("react"));

var _EzButton = _interopRequireWildcard(require("./EzButton.styles"));

var _EzTooltip = _interopRequireDefault(require("../EzTooltip"));

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2["default"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

/**
 * Buttons represent actions on a page that can be triggered with one click.
 * Buttons can be used in forms, or in other locations in a page to communicate that an action is available.
 */
var EzButton = (0, _react.forwardRef)(function (props, ref) {
  var buttonElement = (0, _react.createElement)(_EzButton["default"], buildProps(_objectSpread({}, props, {
    ref: ref
  })));

  if (props.disabled && props.disabledMessage) {
    return _react["default"].createElement(_EzTooltip["default"], {
      message: props.disabledMessage
    }, _react["default"].createElement(_EzButton.DisabledButtonWrapper, null, buttonElement));
  }

  return buttonElement;
});

var buildProps = function buildProps(props) {
  if (props.use === 'tertiary') return props;
  var loading = props.loading,
      rest = (0, _objectWithoutProperties2["default"])(props, ["loading"]);
  return _objectSpread({}, rest, {
    isLoading: loading,
    disabled: props.disabled || loading
  });
};
/**
 * defaultProps
 * @property {string} use - Buttons are considered secondary by default.
 */


EzButton.defaultProps = {
  use: 'secondary'
};
EzButton.displayName = 'EzButton';
/**
 * @component
 */

var _default = EzButton;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0V6QnV0dG9uL0V6QnV0dG9uLnRzeCJdLCJuYW1lcyI6WyJFekJ1dHRvbiIsInByb3BzIiwicmVmIiwiYnV0dG9uRWxlbWVudCIsIlN0eWxlZEJ1dHRvbiIsImJ1aWxkUHJvcHMiLCJkaXNhYmxlZCIsImRpc2FibGVkTWVzc2FnZSIsInVzZSIsImxvYWRpbmciLCJyZXN0IiwiaXNMb2FkaW5nIiwiZGVmYXVsdFByb3BzIiwiZGlzcGxheU5hbWUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7Ozs7QUFvQkE7Ozs7QUFJQSxJQUFNQSxRQUFRLEdBQUcsdUJBQTJDLFVBQUNDLEtBQUQsRUFBUUMsR0FBUixFQUFnQjtBQUMxRSxNQUFNQyxhQUFhLEdBQUcsMEJBQWNDLG9CQUFkLEVBQTRCQyxVQUFVLG1CQUFLSixLQUFMO0FBQVlDLElBQUFBLEdBQUcsRUFBSEE7QUFBWixLQUF0QyxDQUF0Qjs7QUFFQSxNQUFJRCxLQUFLLENBQUNLLFFBQU4sSUFBa0JMLEtBQUssQ0FBQ00sZUFBNUIsRUFBNkM7QUFDM0MsV0FDRSxnQ0FBQyxxQkFBRDtBQUFXLE1BQUEsT0FBTyxFQUFFTixLQUFLLENBQUNNO0FBQTFCLE9BQ0UsZ0NBQUMsK0JBQUQsUUFBd0JKLGFBQXhCLENBREYsQ0FERjtBQUtEOztBQUVELFNBQU9BLGFBQVA7QUFDRCxDQVpnQixDQUFqQjs7QUFjQSxJQUFNRSxVQUFVLEdBQUcsU0FBYkEsVUFBYSxDQUFDSixLQUFELEVBQThEO0FBQy9FLE1BQUlBLEtBQUssQ0FBQ08sR0FBTixLQUFjLFVBQWxCLEVBQThCLE9BQU9QLEtBQVA7QUFEaUQsTUFHeEVRLE9BSHdFLEdBR3BEUixLQUhvRCxDQUd4RVEsT0FId0U7QUFBQSxNQUc1REMsSUFINEQsNkNBR3BEVCxLQUhvRDtBQUsvRSwyQkFBV1MsSUFBWDtBQUFpQkMsSUFBQUEsU0FBUyxFQUFFRixPQUE1QjtBQUFxQ0gsSUFBQUEsUUFBUSxFQUFFTCxLQUFLLENBQUNLLFFBQU4sSUFBa0JHO0FBQWpFO0FBQ0QsQ0FORDtBQVFBOzs7Ozs7QUFJQVQsUUFBUSxDQUFDWSxZQUFULEdBQXdCO0FBQ3RCSixFQUFBQSxHQUFHLEVBQUU7QUFEaUIsQ0FBeEI7QUFJQVIsUUFBUSxDQUFDYSxXQUFULEdBQXVCLFVBQXZCO0FBRUE7Ozs7ZUFHZWIsUSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwge2NyZWF0ZUVsZW1lbnQsIGZvcndhcmRSZWZ9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBTdHlsZWRCdXR0b24sIHtEaXNhYmxlZEJ1dHRvbldyYXBwZXJ9IGZyb20gJy4vRXpCdXR0b24uc3R5bGVzJztcbmltcG9ydCBFelRvb2x0aXAgZnJvbSAnLi4vRXpUb29sdGlwJztcblxudHlwZSBCdXR0b25Qcm9wcyA9IFJlYWN0LkJ1dHRvbkhUTUxBdHRyaWJ1dGVzPEhUTUxCdXR0b25FbGVtZW50PiAmIChSZWd1bGFyUHJvcHMgfCBUZXJ0aWFyeVByb3BzKTtcblxudHlwZSBTaGFyZWRCdXR0b25Qcm9wcyA9IHtcbiAgZGVzdHJ1Y3RpdmU/OiBib29sZWFuO1xuICBkaXNhYmxlZD86IGJvb2xlYW47XG4gIGRpc2FibGVkTWVzc2FnZT86IHN0cmluZztcbiAgb25DbGljaz86IFJlYWN0Lk1vdXNlRXZlbnRIYW5kbGVyO1xufTtcblxudHlwZSBSZWd1bGFyUHJvcHMgPSB7XG4gIGxvYWRpbmc/OiBib29sZWFuO1xuICB1c2U6ICdwcmltYXJ5JyB8ICdzZWNvbmRhcnknO1xufSAmIFNoYXJlZEJ1dHRvblByb3BzO1xuXG50eXBlIFRlcnRpYXJ5UHJvcHMgPSB7XG4gIHVzZTogJ3RlcnRpYXJ5Jztcbn0gJiBTaGFyZWRCdXR0b25Qcm9wcztcblxuLyoqXG4gKiBCdXR0b25zIHJlcHJlc2VudCBhY3Rpb25zIG9uIGEgcGFnZSB0aGF0IGNhbiBiZSB0cmlnZ2VyZWQgd2l0aCBvbmUgY2xpY2suXG4gKiBCdXR0b25zIGNhbiBiZSB1c2VkIGluIGZvcm1zLCBvciBpbiBvdGhlciBsb2NhdGlvbnMgaW4gYSBwYWdlIHRvIGNvbW11bmljYXRlIHRoYXQgYW4gYWN0aW9uIGlzIGF2YWlsYWJsZS5cbiAqL1xuY29uc3QgRXpCdXR0b24gPSBmb3J3YXJkUmVmPEhUTUxCdXR0b25FbGVtZW50LCBCdXR0b25Qcm9wcz4oKHByb3BzLCByZWYpID0+IHtcbiAgY29uc3QgYnV0dG9uRWxlbWVudCA9IGNyZWF0ZUVsZW1lbnQoU3R5bGVkQnV0dG9uLCBidWlsZFByb3BzKHsuLi5wcm9wcywgcmVmfSkpO1xuXG4gIGlmIChwcm9wcy5kaXNhYmxlZCAmJiBwcm9wcy5kaXNhYmxlZE1lc3NhZ2UpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPEV6VG9vbHRpcCBtZXNzYWdlPXtwcm9wcy5kaXNhYmxlZE1lc3NhZ2V9PlxuICAgICAgICA8RGlzYWJsZWRCdXR0b25XcmFwcGVyPntidXR0b25FbGVtZW50fTwvRGlzYWJsZWRCdXR0b25XcmFwcGVyPlxuICAgICAgPC9FelRvb2x0aXA+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBidXR0b25FbGVtZW50O1xufSk7XG5cbmNvbnN0IGJ1aWxkUHJvcHMgPSAocHJvcHM6IEJ1dHRvblByb3BzICYge3JlZjogUmVhY3QuUmVmPEhUTUxCdXR0b25FbGVtZW50Pn0pID0+IHtcbiAgaWYgKHByb3BzLnVzZSA9PT0gJ3RlcnRpYXJ5JykgcmV0dXJuIHByb3BzO1xuXG4gIGNvbnN0IHtsb2FkaW5nLCAuLi5yZXN0fSA9IHByb3BzO1xuXG4gIHJldHVybiB7Li4ucmVzdCwgaXNMb2FkaW5nOiBsb2FkaW5nLCBkaXNhYmxlZDogcHJvcHMuZGlzYWJsZWQgfHwgbG9hZGluZ307XG59O1xuXG4vKipcbiAqIGRlZmF1bHRQcm9wc1xuICogQHByb3BlcnR5IHtzdHJpbmd9IHVzZSAtIEJ1dHRvbnMgYXJlIGNvbnNpZGVyZWQgc2Vjb25kYXJ5IGJ5IGRlZmF1bHQuXG4gKi9cbkV6QnV0dG9uLmRlZmF1bHRQcm9wcyA9IHtcbiAgdXNlOiAnc2Vjb25kYXJ5Jyxcbn07XG5cbkV6QnV0dG9uLmRpc3BsYXlOYW1lID0gJ0V6QnV0dG9uJztcblxuLyoqXG4gKiBAY29tcG9uZW50XG4gKi9cbmV4cG9ydCBkZWZhdWx0IEV6QnV0dG9uO1xuIl19