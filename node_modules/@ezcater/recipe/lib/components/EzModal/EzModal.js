"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _react = _interopRequireWildcard(require("react"));

var _Dialog = require("reakit/Dialog");

var _Portal = require("reakit/Portal");

var _EzButton = _interopRequireDefault(require("../EzButton"));

var _EzHeading = _interopRequireDefault(require("../EzHeading"));

var _EzLayout = _interopRequireDefault(require("../EzLayout"));

var _EzModal = require("./EzModal.styles");

var _CloseButton = _interopRequireDefault(require("../CloseButton"));

var _hooks = require("../../utils/hooks");

var _EzPortal = _interopRequireWildcard(require("../EzPortal"));

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2["default"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

var PortalledOverlay = function PortalledOverlay(_ref) {
  var children = _ref.children,
      props = (0, _objectWithoutProperties2["default"])(_ref, ["children"]);
  return _react["default"].createElement(_EzPortal["default"], null, _react["default"].createElement(_EzModal.StyledOverlay, (0, _Dialog.useDialogBackdrop)(props), children));
};

var Dialog = function Dialog(_ref2) {
  var isOpen = _ref2.isOpen,
      children = _ref2.children,
      props = (0, _objectWithoutProperties2["default"])(_ref2, ["isOpen", "children"]);

  var _useContext = (0, _react.useContext)(_EzPortal.PortalContext),
      hostNode = _useContext.current;

  var initialFocusRef = (0, _react.useRef)();
  var ref = (0, _react.useRef)();
  (0, _react.useEffect)(function () {
    if (isOpen) initialFocusRef.current = hostNode.ownerDocument.activeElement;
  }, [hostNode, isOpen]);
  var preventBodyScroll = hostNode === document.body;
  var dialog = (0, _Dialog.useDialog)(_objectSpread({}, props, {
    // eslint-disable-next-line @typescript-eslint/camelcase
    unstable_finalFocusRef: initialFocusRef,
    preventBodyScroll: preventBodyScroll
  }), {
    ref: ref
  }); // eslint-disable-next-line no-underscore-dangle

  _Portal.Portal.__selector = "#".concat(dialog.id);
  return _react["default"].createElement(_EzModal.StyledDialog, (0, _extends2["default"])({}, dialog, {
    tabIndex: 0
  }), _react["default"].createElement(_EzPortal.PortalContext.Provider, {
    value: ref
  }, props.visible && children));
};

var EzModal = function EzModal(_ref3) {
  var children = _ref3.children,
      headerText = _ref3.headerText,
      destructive = _ref3.destructive,
      dismissLabel = _ref3.dismissLabel,
      isOpen = _ref3.isOpen,
      isSubmitting = _ref3.isSubmitting,
      initialOnDismiss = _ref3.onDismiss,
      onSubmit = _ref3.onSubmit,
      submitLabel = _ref3.submitLabel;
  var labelId = (0, _hooks.useUniqueId)(); // JSDOM doesn't support this API

  var modalOption = {
    modal: Boolean(Element.prototype.insertAdjacentElement)
  };
  var dialog = (0, _Dialog.useDialogState)(_objectSpread({
    visible: isOpen
  }, modalOption));

  var _useRef = (0, _react.useRef)(initialOnDismiss),
      onDismiss = _useRef.current;

  dialog.hide = onDismiss;
  dialog.visible = isOpen;
  return _react["default"].createElement(PortalledOverlay, dialog, _react["default"].createElement(Dialog, (0, _extends2["default"])({}, dialog, {
    isOpen: isOpen,
    "aria-labelledby": labelId
  }), _react["default"].createElement(_EzModal.HeaderContainer, null, _react["default"].createElement(_EzHeading["default"], {
    size: "2",
    id: labelId
  }, headerText), _react["default"].createElement(_CloseButton["default"], {
    label: dismissLabel,
    onClick: onDismiss
  })), _react["default"].createElement(_EzModal.ContentContainer, null, children), _react["default"].createElement(_EzModal.ButtonFooter, null, _react["default"].createElement(_EzLayout["default"], {
    layout: {
      base: 'stack',
      medium: 'basic'
    }
  }, submitLabel && _react["default"].createElement(_EzButton["default"], {
    use: "primary",
    destructive: destructive,
    onClick: onSubmit,
    loading: isSubmitting
  }, submitLabel), _react["default"].createElement(_EzButton["default"], {
    use: "secondary",
    disabled: isSubmitting,
    onClick: onDismiss
  }, dismissLabel)))));
};

var _default = EzModal;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0V6TW9kYWwvRXpNb2RhbC50c3giXSwibmFtZXMiOlsiUG9ydGFsbGVkT3ZlcmxheSIsImNoaWxkcmVuIiwicHJvcHMiLCJEaWFsb2ciLCJpc09wZW4iLCJQb3J0YWxDb250ZXh0IiwiaG9zdE5vZGUiLCJjdXJyZW50IiwiaW5pdGlhbEZvY3VzUmVmIiwicmVmIiwib3duZXJEb2N1bWVudCIsImFjdGl2ZUVsZW1lbnQiLCJwcmV2ZW50Qm9keVNjcm9sbCIsImRvY3VtZW50IiwiYm9keSIsImRpYWxvZyIsInVuc3RhYmxlX2ZpbmFsRm9jdXNSZWYiLCJQb3J0YWwiLCJfX3NlbGVjdG9yIiwiaWQiLCJ2aXNpYmxlIiwiRXpNb2RhbCIsImhlYWRlclRleHQiLCJkZXN0cnVjdGl2ZSIsImRpc21pc3NMYWJlbCIsImlzU3VibWl0dGluZyIsImluaXRpYWxPbkRpc21pc3MiLCJvbkRpc21pc3MiLCJvblN1Ym1pdCIsInN1Ym1pdExhYmVsIiwibGFiZWxJZCIsIm1vZGFsT3B0aW9uIiwibW9kYWwiLCJCb29sZWFuIiwiRWxlbWVudCIsInByb3RvdHlwZSIsImluc2VydEFkamFjZW50RWxlbWVudCIsImhpZGUiLCJiYXNlIiwibWVkaXVtIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQU9BOztBQUNBOztBQUNBOzs7Ozs7QUFlQSxJQUFNQSxnQkFBZ0IsR0FBRyxTQUFuQkEsZ0JBQW1CO0FBQUEsTUFBRUMsUUFBRixRQUFFQSxRQUFGO0FBQUEsTUFBZUMsS0FBZjtBQUFBLFNBQ3ZCLGdDQUFDLG9CQUFELFFBQ0UsZ0NBQUMsc0JBQUQsRUFBbUIsK0JBQWtCQSxLQUFsQixDQUFuQixFQUE4Q0QsUUFBOUMsQ0FERixDQUR1QjtBQUFBLENBQXpCOztBQU1BLElBQU1FLE1BQXVELEdBQUcsU0FBMURBLE1BQTBELFFBQWtDO0FBQUEsTUFBaENDLE1BQWdDLFNBQWhDQSxNQUFnQztBQUFBLE1BQXhCSCxRQUF3QixTQUF4QkEsUUFBd0I7QUFBQSxNQUFYQyxLQUFXOztBQUFBLG9CQUNwRSx1QkFBV0csdUJBQVgsQ0FEb0U7QUFBQSxNQUNoRkMsUUFEZ0YsZUFDekZDLE9BRHlGOztBQUVoRyxNQUFNQyxlQUFlLEdBQUcsb0JBQXhCO0FBQ0EsTUFBTUMsR0FBRyxHQUFHLG9CQUFaO0FBRUEsd0JBQVUsWUFBTTtBQUNkLFFBQUlMLE1BQUosRUFBWUksZUFBZSxDQUFDRCxPQUFoQixHQUEwQkQsUUFBUSxDQUFDSSxhQUFULENBQXVCQyxhQUFqRDtBQUNiLEdBRkQsRUFFRyxDQUFDTCxRQUFELEVBQVdGLE1BQVgsQ0FGSDtBQUlBLE1BQU1RLGlCQUFpQixHQUFHTixRQUFRLEtBQUtPLFFBQVEsQ0FBQ0MsSUFBaEQ7QUFDQSxNQUFNQyxNQUFNLEdBQUcseUNBRVJiLEtBRlE7QUFHWDtBQUNBYyxJQUFBQSxzQkFBc0IsRUFBRVIsZUFKYjtBQUtYSSxJQUFBQSxpQkFBaUIsRUFBakJBO0FBTFcsTUFPYjtBQUFDSCxJQUFBQSxHQUFHLEVBQUhBO0FBQUQsR0FQYSxDQUFmLENBVmdHLENBb0JoRzs7QUFDQVEsaUJBQU9DLFVBQVAsY0FBd0JILE1BQU0sQ0FBQ0ksRUFBL0I7QUFFQSxTQUNFLGdDQUFDLHFCQUFELGdDQUFrQkosTUFBbEI7QUFBMEIsSUFBQSxRQUFRLEVBQUU7QUFBcEMsTUFDRSxnQ0FBQyx1QkFBRCxDQUFlLFFBQWY7QUFBd0IsSUFBQSxLQUFLLEVBQUVOO0FBQS9CLEtBQXFDUCxLQUFLLENBQUNrQixPQUFOLElBQWlCbkIsUUFBdEQsQ0FERixDQURGO0FBS0QsQ0E1QkQ7O0FBOEJBLElBQU1vQixPQUF3QixHQUFHLFNBQTNCQSxPQUEyQixRQVUzQjtBQUFBLE1BVEpwQixRQVNJLFNBVEpBLFFBU0k7QUFBQSxNQVJKcUIsVUFRSSxTQVJKQSxVQVFJO0FBQUEsTUFQSkMsV0FPSSxTQVBKQSxXQU9JO0FBQUEsTUFOSkMsWUFNSSxTQU5KQSxZQU1JO0FBQUEsTUFMSnBCLE1BS0ksU0FMSkEsTUFLSTtBQUFBLE1BSkpxQixZQUlJLFNBSkpBLFlBSUk7QUFBQSxNQUhPQyxnQkFHUCxTQUhKQyxTQUdJO0FBQUEsTUFGSkMsUUFFSSxTQUZKQSxRQUVJO0FBQUEsTUFESkMsV0FDSSxTQURKQSxXQUNJO0FBQ0osTUFBTUMsT0FBTyxHQUFHLHlCQUFoQixDQURJLENBRUo7O0FBQ0EsTUFBTUMsV0FBVyxHQUFHO0FBQUNDLElBQUFBLEtBQUssRUFBRUMsT0FBTyxDQUFDQyxPQUFPLENBQUNDLFNBQVIsQ0FBa0JDLHFCQUFuQjtBQUFmLEdBQXBCO0FBQ0EsTUFBTXJCLE1BQU0sR0FBRztBQUFnQkssSUFBQUEsT0FBTyxFQUFFaEI7QUFBekIsS0FBb0MyQixXQUFwQyxFQUFmOztBQUpJLGdCQUt5QixtQkFBT0wsZ0JBQVAsQ0FMekI7QUFBQSxNQUtZQyxTQUxaLFdBS0dwQixPQUxIOztBQU9KUSxFQUFBQSxNQUFNLENBQUNzQixJQUFQLEdBQWNWLFNBQWQ7QUFDQVosRUFBQUEsTUFBTSxDQUFDSyxPQUFQLEdBQWlCaEIsTUFBakI7QUFFQSxTQUNFLGdDQUFDLGdCQUFELEVBQXNCVyxNQUF0QixFQUNFLGdDQUFDLE1BQUQsZ0NBQVlBLE1BQVo7QUFBb0IsSUFBQSxNQUFNLEVBQUVYLE1BQTVCO0FBQW9DLHVCQUFpQjBCO0FBQXJELE1BQ0UsZ0NBQUMsd0JBQUQsUUFDRSxnQ0FBQyxxQkFBRDtBQUFXLElBQUEsSUFBSSxFQUFDLEdBQWhCO0FBQW9CLElBQUEsRUFBRSxFQUFFQTtBQUF4QixLQUNHUixVQURILENBREYsRUFJRSxnQ0FBQyx1QkFBRDtBQUFhLElBQUEsS0FBSyxFQUFFRSxZQUFwQjtBQUFrQyxJQUFBLE9BQU8sRUFBRUc7QUFBM0MsSUFKRixDQURGLEVBUUUsZ0NBQUMseUJBQUQsUUFBbUIxQixRQUFuQixDQVJGLEVBVUUsZ0NBQUMscUJBQUQsUUFDRSxnQ0FBQyxvQkFBRDtBQUFVLElBQUEsTUFBTSxFQUFFO0FBQUNxQyxNQUFBQSxJQUFJLEVBQUUsT0FBUDtBQUFnQkMsTUFBQUEsTUFBTSxFQUFFO0FBQXhCO0FBQWxCLEtBQ0dWLFdBQVcsSUFDVixnQ0FBQyxvQkFBRDtBQUNFLElBQUEsR0FBRyxFQUFDLFNBRE47QUFFRSxJQUFBLFdBQVcsRUFBRU4sV0FGZjtBQUdFLElBQUEsT0FBTyxFQUFFSyxRQUhYO0FBSUUsSUFBQSxPQUFPLEVBQUVIO0FBSlgsS0FNR0ksV0FOSCxDQUZKLEVBV0UsZ0NBQUMsb0JBQUQ7QUFBVSxJQUFBLEdBQUcsRUFBQyxXQUFkO0FBQTBCLElBQUEsUUFBUSxFQUFFSixZQUFwQztBQUFrRCxJQUFBLE9BQU8sRUFBRUU7QUFBM0QsS0FDR0gsWUFESCxDQVhGLENBREYsQ0FWRixDQURGLENBREY7QUFnQ0QsQ0FwREQ7O2VBc0RlSCxPIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7dXNlUmVmLCB1c2VDb250ZXh0LCB1c2VFZmZlY3R9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7dXNlRGlhbG9nLCB1c2VEaWFsb2dTdGF0ZSwgdXNlRGlhbG9nQmFja2Ryb3AsIERpYWxvZ1N0YXRlUmV0dXJufSBmcm9tICdyZWFraXQvRGlhbG9nJztcbmltcG9ydCB7UG9ydGFsfSBmcm9tICdyZWFraXQvUG9ydGFsJztcbmltcG9ydCBFekJ1dHRvbiBmcm9tICcuLi9FekJ1dHRvbic7XG5pbXBvcnQgRXpIZWFkaW5nIGZyb20gJy4uL0V6SGVhZGluZyc7XG5pbXBvcnQgRXpMYXlvdXQgZnJvbSAnLi4vRXpMYXlvdXQnO1xuaW1wb3J0IHtcbiAgQnV0dG9uRm9vdGVyLFxuICBIZWFkZXJDb250YWluZXIsXG4gIENvbnRlbnRDb250YWluZXIsXG4gIFN0eWxlZERpYWxvZyxcbiAgU3R5bGVkT3ZlcmxheSxcbn0gZnJvbSAnLi9Fek1vZGFsLnN0eWxlcyc7XG5pbXBvcnQgQ2xvc2VCdXR0b24gZnJvbSAnLi4vQ2xvc2VCdXR0b24nO1xuaW1wb3J0IHt1c2VVbmlxdWVJZH0gZnJvbSAnLi4vLi4vdXRpbHMvaG9va3MnO1xuaW1wb3J0IEV6UG9ydGFsLCB7UG9ydGFsQ29udGV4dH0gZnJvbSAnLi4vRXpQb3J0YWwnO1xuXG50eXBlIFByb3BzID0ge1xuICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlO1xuICBoZWFkZXJUZXh0OiBzdHJpbmc7XG4gIGRlc3RydWN0aXZlPzogYm9vbGVhbjtcbiAgZGlzbWlzc0xhYmVsOiBzdHJpbmc7XG4gIGlzT3BlbjogYm9vbGVhbjtcbiAgaXNTdWJtaXR0aW5nPzogYm9vbGVhbjtcbiAgb25EaXNtaXNzPzogKCkgPT4gdm9pZDtcbiAgb25TdWJtaXQ/OiAoKSA9PiB2b2lkO1xuICBzdWJtaXRMYWJlbD86IHN0cmluZztcbiAgYXBwRWxlbWVudD86IHN0cmluZztcbn07XG5cbmNvbnN0IFBvcnRhbGxlZE92ZXJsYXkgPSAoe2NoaWxkcmVuLCAuLi5wcm9wc30pID0+IChcbiAgPEV6UG9ydGFsPlxuICAgIDxTdHlsZWRPdmVybGF5IHsuLi51c2VEaWFsb2dCYWNrZHJvcChwcm9wcyl9PntjaGlsZHJlbn08L1N0eWxlZE92ZXJsYXk+XG4gIDwvRXpQb3J0YWw+XG4pO1xuXG5jb25zdCBEaWFsb2c6IFJlYWN0LkZDPERpYWxvZ1N0YXRlUmV0dXJuICYge2lzT3BlbjogYm9vbGVhbn0+ID0gKHtpc09wZW4sIGNoaWxkcmVuLCAuLi5wcm9wc30pID0+IHtcbiAgY29uc3Qge2N1cnJlbnQ6IGhvc3ROb2RlfSA9IHVzZUNvbnRleHQoUG9ydGFsQ29udGV4dCk7XG4gIGNvbnN0IGluaXRpYWxGb2N1c1JlZiA9IHVzZVJlZjxIVE1MRWxlbWVudD4oKTtcbiAgY29uc3QgcmVmID0gdXNlUmVmPEhUTUxFbGVtZW50PigpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlzT3BlbikgaW5pdGlhbEZvY3VzUmVmLmN1cnJlbnQgPSBob3N0Tm9kZS5vd25lckRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgYXMgSFRNTEVsZW1lbnQ7XG4gIH0sIFtob3N0Tm9kZSwgaXNPcGVuXSk7XG5cbiAgY29uc3QgcHJldmVudEJvZHlTY3JvbGwgPSBob3N0Tm9kZSA9PT0gZG9jdW1lbnQuYm9keTtcbiAgY29uc3QgZGlhbG9nID0gdXNlRGlhbG9nKFxuICAgIHtcbiAgICAgIC4uLnByb3BzLFxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9jYW1lbGNhc2VcbiAgICAgIHVuc3RhYmxlX2ZpbmFsRm9jdXNSZWY6IGluaXRpYWxGb2N1c1JlZixcbiAgICAgIHByZXZlbnRCb2R5U2Nyb2xsLFxuICAgIH0sXG4gICAge3JlZn1cbiAgKTtcblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZXJzY29yZS1kYW5nbGVcbiAgUG9ydGFsLl9fc2VsZWN0b3IgPSBgIyR7ZGlhbG9nLmlkfWA7XG5cbiAgcmV0dXJuIChcbiAgICA8U3R5bGVkRGlhbG9nIHsuLi5kaWFsb2d9IHRhYkluZGV4PXswfT5cbiAgICAgIDxQb3J0YWxDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtyZWZ9Pntwcm9wcy52aXNpYmxlICYmIGNoaWxkcmVufTwvUG9ydGFsQ29udGV4dC5Qcm92aWRlcj5cbiAgICA8L1N0eWxlZERpYWxvZz5cbiAgKTtcbn07XG5cbmNvbnN0IEV6TW9kYWw6IFJlYWN0LkZDPFByb3BzPiA9ICh7XG4gIGNoaWxkcmVuLFxuICBoZWFkZXJUZXh0LFxuICBkZXN0cnVjdGl2ZSxcbiAgZGlzbWlzc0xhYmVsLFxuICBpc09wZW4sXG4gIGlzU3VibWl0dGluZyxcbiAgb25EaXNtaXNzOiBpbml0aWFsT25EaXNtaXNzLFxuICBvblN1Ym1pdCxcbiAgc3VibWl0TGFiZWwsXG59KSA9PiB7XG4gIGNvbnN0IGxhYmVsSWQgPSB1c2VVbmlxdWVJZCgpO1xuICAvLyBKU0RPTSBkb2Vzbid0IHN1cHBvcnQgdGhpcyBBUElcbiAgY29uc3QgbW9kYWxPcHRpb24gPSB7bW9kYWw6IEJvb2xlYW4oRWxlbWVudC5wcm90b3R5cGUuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KX07XG4gIGNvbnN0IGRpYWxvZyA9IHVzZURpYWxvZ1N0YXRlKHt2aXNpYmxlOiBpc09wZW4sIC4uLm1vZGFsT3B0aW9ufSk7XG4gIGNvbnN0IHtjdXJyZW50OiBvbkRpc21pc3N9ID0gdXNlUmVmKGluaXRpYWxPbkRpc21pc3MpO1xuXG4gIGRpYWxvZy5oaWRlID0gb25EaXNtaXNzO1xuICBkaWFsb2cudmlzaWJsZSA9IGlzT3BlbjtcblxuICByZXR1cm4gKFxuICAgIDxQb3J0YWxsZWRPdmVybGF5IHsuLi5kaWFsb2d9PlxuICAgICAgPERpYWxvZyB7Li4uZGlhbG9nfSBpc09wZW49e2lzT3Blbn0gYXJpYS1sYWJlbGxlZGJ5PXtsYWJlbElkfT5cbiAgICAgICAgPEhlYWRlckNvbnRhaW5lcj5cbiAgICAgICAgICA8RXpIZWFkaW5nIHNpemU9XCIyXCIgaWQ9e2xhYmVsSWR9PlxuICAgICAgICAgICAge2hlYWRlclRleHR9XG4gICAgICAgICAgPC9FekhlYWRpbmc+XG4gICAgICAgICAgPENsb3NlQnV0dG9uIGxhYmVsPXtkaXNtaXNzTGFiZWx9IG9uQ2xpY2s9e29uRGlzbWlzc30gLz5cbiAgICAgICAgPC9IZWFkZXJDb250YWluZXI+XG5cbiAgICAgICAgPENvbnRlbnRDb250YWluZXI+e2NoaWxkcmVufTwvQ29udGVudENvbnRhaW5lcj5cblxuICAgICAgICA8QnV0dG9uRm9vdGVyPlxuICAgICAgICAgIDxFekxheW91dCBsYXlvdXQ9e3tiYXNlOiAnc3RhY2snLCBtZWRpdW06ICdiYXNpYyd9fT5cbiAgICAgICAgICAgIHtzdWJtaXRMYWJlbCAmJiAoXG4gICAgICAgICAgICAgIDxFekJ1dHRvblxuICAgICAgICAgICAgICAgIHVzZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgIGRlc3RydWN0aXZlPXtkZXN0cnVjdGl2ZX1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtvblN1Ym1pdH1cbiAgICAgICAgICAgICAgICBsb2FkaW5nPXtpc1N1Ym1pdHRpbmd9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7c3VibWl0TGFiZWx9XG4gICAgICAgICAgICAgIDwvRXpCdXR0b24+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgPEV6QnV0dG9uIHVzZT1cInNlY29uZGFyeVwiIGRpc2FibGVkPXtpc1N1Ym1pdHRpbmd9IG9uQ2xpY2s9e29uRGlzbWlzc30+XG4gICAgICAgICAgICAgIHtkaXNtaXNzTGFiZWx9XG4gICAgICAgICAgICA8L0V6QnV0dG9uPlxuICAgICAgICAgIDwvRXpMYXlvdXQ+XG4gICAgICAgIDwvQnV0dG9uRm9vdGVyPlxuICAgICAgPC9EaWFsb2c+XG4gICAgPC9Qb3J0YWxsZWRPdmVybGF5PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgRXpNb2RhbDtcbiJdfQ==