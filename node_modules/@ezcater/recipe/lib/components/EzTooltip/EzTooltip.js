"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _react = _interopRequireWildcard(require("react"));

var _EzTooltip = require("./EzTooltip.styles");

var _hooks = require("../../utils/hooks");

var _EzPopover = _interopRequireDefault(require("../EzPopover"));

var EzTooltip = function EzTooltip(_ref) {
  var children = _ref.children,
      message = _ref.message,
      position = _ref.position,
      rest = (0, _objectWithoutProperties2["default"])(_ref, ["children", "message", "position"]);
  var id = (0, _hooks.useUniqueId)();
  var targetRef = (0, _react.useRef)(null);

  var _useState = (0, _react.useState)(false),
      _useState2 = (0, _slicedToArray2["default"])(_useState, 2),
      isHovered = _useState2[0],
      setIsHovered = _useState2[1];

  var _useState3 = (0, _react.useState)(false),
      _useState4 = (0, _slicedToArray2["default"])(_useState3, 2),
      isFocused = _useState4[0],
      setIsFocused = _useState4[1];

  var onMouseEnterEvent = function onMouseEnterEvent() {
    return setIsHovered(true);
  };

  var onMouseLeaveEvent = function onMouseLeaveEvent() {
    return setIsHovered(false);
  };

  var onFocusEvent = function onFocusEvent() {
    return setIsFocused(true);
  };

  var onBlurEvent = function onBlurEvent() {
    return setIsFocused(false);
  };

  var showTooltip = isHovered || isFocused;

  var child = _react["default"].Children.only(children);

  var childProps = {
    'aria-describedby': id,
    onMouseEnter: onMouseEnterEvent,
    onMouseLeave: onMouseLeaveEvent,
    onFocus: onFocusEvent,
    onBlur: onBlurEvent,
    ref: targetRef
  };
  return _react["default"].createElement(_react["default"].Fragment, null, _react["default"].cloneElement(child, childProps), showTooltip && _react["default"].createElement(_EzPopover["default"], {
    targetRef: targetRef,
    placement: position === 'horizontal' ? 'right' : 'bottom',
    modifiers: [{
      name: 'arrow',
      enabled: true,
      options: {
        padding: 5
      }
    }, {
      name: 'offset',
      options: {
        offset: [0, 5]
      }
    }]
  }, _react["default"].createElement(_EzTooltip.TooltipArrow, {
    "data-popper-arrow": true
  }, _react["default"].createElement("svg", {
    width: "10",
    height: "10"
  }, _react["default"].createElement("path", {
    d: "M0 5l5-5 5 5z"
  }), _react["default"].createElement("path", {
    d: "M1.5 5L5 1.5 8.5 5z"
  }))), _react["default"].createElement(_EzTooltip.Tooltip, (0, _extends2["default"])({
    role: "tooltip",
    id: id,
    tabIndex: "-1"
  }, rest), message && _react["default"].createElement(_EzTooltip.Message, null, message))));
};

EzTooltip.defaultProps = {
  position: 'vertical'
};
var _default = EzTooltip;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0V6VG9vbHRpcC9FelRvb2x0aXAudHN4Il0sIm5hbWVzIjpbIkV6VG9vbHRpcCIsImNoaWxkcmVuIiwibWVzc2FnZSIsInBvc2l0aW9uIiwicmVzdCIsImlkIiwidGFyZ2V0UmVmIiwiaXNIb3ZlcmVkIiwic2V0SXNIb3ZlcmVkIiwiaXNGb2N1c2VkIiwic2V0SXNGb2N1c2VkIiwib25Nb3VzZUVudGVyRXZlbnQiLCJvbk1vdXNlTGVhdmVFdmVudCIsIm9uRm9jdXNFdmVudCIsIm9uQmx1ckV2ZW50Iiwic2hvd1Rvb2x0aXAiLCJjaGlsZCIsIlJlYWN0IiwiQ2hpbGRyZW4iLCJvbmx5IiwiY2hpbGRQcm9wcyIsIm9uTW91c2VFbnRlciIsIm9uTW91c2VMZWF2ZSIsIm9uRm9jdXMiLCJvbkJsdXIiLCJyZWYiLCJjbG9uZUVsZW1lbnQiLCJuYW1lIiwiZW5hYmxlZCIsIm9wdGlvbnMiLCJwYWRkaW5nIiwib2Zmc2V0IiwiZGVmYXVsdFByb3BzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQVFBLElBQU1BLFNBQTBCLEdBQUcsU0FBN0JBLFNBQTZCLE9BQTRDO0FBQUEsTUFBMUNDLFFBQTBDLFFBQTFDQSxRQUEwQztBQUFBLE1BQWhDQyxPQUFnQyxRQUFoQ0EsT0FBZ0M7QUFBQSxNQUF2QkMsUUFBdUIsUUFBdkJBLFFBQXVCO0FBQUEsTUFBVkMsSUFBVTtBQUM3RSxNQUFNQyxFQUFFLEdBQUcseUJBQVg7QUFDQSxNQUFNQyxTQUFTLEdBQUcsbUJBQU8sSUFBUCxDQUFsQjs7QUFGNkUsa0JBRzNDLHFCQUFTLEtBQVQsQ0FIMkM7QUFBQTtBQUFBLE1BR3RFQyxTQUhzRTtBQUFBLE1BRzNEQyxZQUgyRDs7QUFBQSxtQkFJM0MscUJBQVMsS0FBVCxDQUoyQztBQUFBO0FBQUEsTUFJdEVDLFNBSnNFO0FBQUEsTUFJM0RDLFlBSjJEOztBQU03RSxNQUFNQyxpQkFBaUIsR0FBRyxTQUFwQkEsaUJBQW9CO0FBQUEsV0FBTUgsWUFBWSxDQUFDLElBQUQsQ0FBbEI7QUFBQSxHQUExQjs7QUFDQSxNQUFNSSxpQkFBaUIsR0FBRyxTQUFwQkEsaUJBQW9CO0FBQUEsV0FBTUosWUFBWSxDQUFDLEtBQUQsQ0FBbEI7QUFBQSxHQUExQjs7QUFDQSxNQUFNSyxZQUFZLEdBQUcsU0FBZkEsWUFBZTtBQUFBLFdBQU1ILFlBQVksQ0FBQyxJQUFELENBQWxCO0FBQUEsR0FBckI7O0FBQ0EsTUFBTUksV0FBVyxHQUFHLFNBQWRBLFdBQWM7QUFBQSxXQUFNSixZQUFZLENBQUMsS0FBRCxDQUFsQjtBQUFBLEdBQXBCOztBQUVBLE1BQU1LLFdBQVcsR0FBR1IsU0FBUyxJQUFJRSxTQUFqQzs7QUFDQSxNQUFNTyxLQUFLLEdBQUdDLGtCQUFNQyxRQUFOLENBQWVDLElBQWYsQ0FBb0JsQixRQUFwQixDQUFkOztBQUVBLE1BQU1tQixVQUFVLEdBQUc7QUFDakIsd0JBQW9CZixFQURIO0FBRWpCZ0IsSUFBQUEsWUFBWSxFQUFFVixpQkFGRztBQUdqQlcsSUFBQUEsWUFBWSxFQUFFVixpQkFIRztBQUlqQlcsSUFBQUEsT0FBTyxFQUFFVixZQUpRO0FBS2pCVyxJQUFBQSxNQUFNLEVBQUVWLFdBTFM7QUFNakJXLElBQUFBLEdBQUcsRUFBRW5CO0FBTlksR0FBbkI7QUFTQSxTQUNFLGtFQUNHVyxrQkFBTVMsWUFBTixDQUFtQlYsS0FBbkIsRUFBMEJJLFVBQTFCLENBREgsRUFHR0wsV0FBVyxJQUNWLGdDQUFDLHFCQUFEO0FBQ0UsSUFBQSxTQUFTLEVBQUVULFNBRGI7QUFFRSxJQUFBLFNBQVMsRUFBRUgsUUFBUSxLQUFLLFlBQWIsR0FBNEIsT0FBNUIsR0FBc0MsUUFGbkQ7QUFHRSxJQUFBLFNBQVMsRUFBRSxDQUNUO0FBQUN3QixNQUFBQSxJQUFJLEVBQUUsT0FBUDtBQUFnQkMsTUFBQUEsT0FBTyxFQUFFLElBQXpCO0FBQStCQyxNQUFBQSxPQUFPLEVBQUU7QUFBQ0MsUUFBQUEsT0FBTyxFQUFFO0FBQVY7QUFBeEMsS0FEUyxFQUVUO0FBQUNILE1BQUFBLElBQUksRUFBRSxRQUFQO0FBQWlCRSxNQUFBQSxPQUFPLEVBQUU7QUFBQ0UsUUFBQUEsTUFBTSxFQUFFLENBQUMsQ0FBRCxFQUFJLENBQUo7QUFBVDtBQUExQixLQUZTO0FBSGIsS0FRRSxnQ0FBQyx1QkFBRDtBQUFjO0FBQWQsS0FDRTtBQUFLLElBQUEsS0FBSyxFQUFDLElBQVg7QUFBZ0IsSUFBQSxNQUFNLEVBQUM7QUFBdkIsS0FDRTtBQUFNLElBQUEsQ0FBQyxFQUFDO0FBQVIsSUFERixFQUVFO0FBQU0sSUFBQSxDQUFDLEVBQUM7QUFBUixJQUZGLENBREYsQ0FSRixFQWNFLGdDQUFDLGtCQUFEO0FBQVMsSUFBQSxJQUFJLEVBQUMsU0FBZDtBQUF3QixJQUFBLEVBQUUsRUFBRTFCLEVBQTVCO0FBQWdDLElBQUEsUUFBUSxFQUFDO0FBQXpDLEtBQWtERCxJQUFsRCxHQUNHRixPQUFPLElBQUksZ0NBQUMsa0JBQUQsUUFBVUEsT0FBVixDQURkLENBZEYsQ0FKSixDQURGO0FBMEJELENBakREOztBQW1EQUYsU0FBUyxDQUFDZ0MsWUFBVixHQUF5QjtBQUN2QjdCLEVBQUFBLFFBQVEsRUFBRTtBQURhLENBQXpCO2VBSWVILFMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHt1c2VTdGF0ZSwgdXNlUmVmLCBSZWFjdEVsZW1lbnR9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7TWVzc2FnZSwgVG9vbHRpcCwgVG9vbHRpcEFycm93fSBmcm9tICcuL0V6VG9vbHRpcC5zdHlsZXMnO1xuaW1wb3J0IHt1c2VVbmlxdWVJZH0gZnJvbSAnLi4vLi4vdXRpbHMvaG9va3MnO1xuaW1wb3J0IEV6UG9wb3ZlciBmcm9tICcuLi9FelBvcG92ZXInO1xuXG50eXBlIFByb3BzID0ge1xuICBwb3NpdGlvbj86ICd2ZXJ0aWNhbCcgfCAnaG9yaXpvbnRhbCc7XG4gIG1lc3NhZ2U6IHN0cmluZztcbiAgY2hpbGRyZW46IFJlYWN0RWxlbWVudDtcbn0gJiBSZWFjdC5IVE1MQXR0cmlidXRlczxhbnk+O1xuXG5jb25zdCBFelRvb2x0aXA6IFJlYWN0LkZDPFByb3BzPiA9ICh7Y2hpbGRyZW4sIG1lc3NhZ2UsIHBvc2l0aW9uLCAuLi5yZXN0fSkgPT4ge1xuICBjb25zdCBpZCA9IHVzZVVuaXF1ZUlkKCk7XG4gIGNvbnN0IHRhcmdldFJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgW2lzSG92ZXJlZCwgc2V0SXNIb3ZlcmVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lzRm9jdXNlZCwgc2V0SXNGb2N1c2VkXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICBjb25zdCBvbk1vdXNlRW50ZXJFdmVudCA9ICgpID0+IHNldElzSG92ZXJlZCh0cnVlKTtcbiAgY29uc3Qgb25Nb3VzZUxlYXZlRXZlbnQgPSAoKSA9PiBzZXRJc0hvdmVyZWQoZmFsc2UpO1xuICBjb25zdCBvbkZvY3VzRXZlbnQgPSAoKSA9PiBzZXRJc0ZvY3VzZWQodHJ1ZSk7XG4gIGNvbnN0IG9uQmx1ckV2ZW50ID0gKCkgPT4gc2V0SXNGb2N1c2VkKGZhbHNlKTtcblxuICBjb25zdCBzaG93VG9vbHRpcCA9IGlzSG92ZXJlZCB8fCBpc0ZvY3VzZWQ7XG4gIGNvbnN0IGNoaWxkID0gUmVhY3QuQ2hpbGRyZW4ub25seShjaGlsZHJlbik7XG5cbiAgY29uc3QgY2hpbGRQcm9wcyA9IHtcbiAgICAnYXJpYS1kZXNjcmliZWRieSc6IGlkLFxuICAgIG9uTW91c2VFbnRlcjogb25Nb3VzZUVudGVyRXZlbnQsXG4gICAgb25Nb3VzZUxlYXZlOiBvbk1vdXNlTGVhdmVFdmVudCxcbiAgICBvbkZvY3VzOiBvbkZvY3VzRXZlbnQsXG4gICAgb25CbHVyOiBvbkJsdXJFdmVudCxcbiAgICByZWY6IHRhcmdldFJlZixcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICB7UmVhY3QuY2xvbmVFbGVtZW50KGNoaWxkLCBjaGlsZFByb3BzKX1cblxuICAgICAge3Nob3dUb29sdGlwICYmIChcbiAgICAgICAgPEV6UG9wb3ZlclxuICAgICAgICAgIHRhcmdldFJlZj17dGFyZ2V0UmVmfVxuICAgICAgICAgIHBsYWNlbWVudD17cG9zaXRpb24gPT09ICdob3Jpem9udGFsJyA/ICdyaWdodCcgOiAnYm90dG9tJ31cbiAgICAgICAgICBtb2RpZmllcnM9e1tcbiAgICAgICAgICAgIHtuYW1lOiAnYXJyb3cnLCBlbmFibGVkOiB0cnVlLCBvcHRpb25zOiB7cGFkZGluZzogNX19LFxuICAgICAgICAgICAge25hbWU6ICdvZmZzZXQnLCBvcHRpb25zOiB7b2Zmc2V0OiBbMCwgNV19fSxcbiAgICAgICAgICBdfVxuICAgICAgICA+XG4gICAgICAgICAgPFRvb2x0aXBBcnJvdyBkYXRhLXBvcHBlci1hcnJvdz5cbiAgICAgICAgICAgIDxzdmcgd2lkdGg9XCIxMFwiIGhlaWdodD1cIjEwXCI+XG4gICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMCA1bDUtNSA1IDV6XCIgLz5cbiAgICAgICAgICAgICAgPHBhdGggZD1cIk0xLjUgNUw1IDEuNSA4LjUgNXpcIiAvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgPC9Ub29sdGlwQXJyb3c+XG4gICAgICAgICAgPFRvb2x0aXAgcm9sZT1cInRvb2x0aXBcIiBpZD17aWR9IHRhYkluZGV4PVwiLTFcIiB7Li4ucmVzdH0+XG4gICAgICAgICAgICB7bWVzc2FnZSAmJiA8TWVzc2FnZT57bWVzc2FnZX08L01lc3NhZ2U+fVxuICAgICAgICAgIDwvVG9vbHRpcD5cbiAgICAgICAgPC9FelBvcG92ZXI+XG4gICAgICApfVxuICAgIDwvPlxuICApO1xufTtcblxuRXpUb29sdGlwLmRlZmF1bHRQcm9wcyA9IHtcbiAgcG9zaXRpb246ICd2ZXJ0aWNhbCcsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBFelRvb2x0aXA7XG4iXX0=