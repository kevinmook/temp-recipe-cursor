"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _react = _interopRequireWildcard(require("react"));

var useSorting = function useSorting() {
  var initialState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {
    direction: 'asc',
    column: null
  };

  var _useState = (0, _react.useState)(initialState),
      _useState2 = (0, _slicedToArray2["default"])(_useState, 2),
      state = _useState2[0],
      setState = _useState2[1];

  var isSorted = _react["default"].useCallback(function (column) {
    return state.column && state.column.key === column.key;
  }, [state]);

  var onClick = _react["default"].useCallback(function (event, column, callback) {
    if (!column.sortable) return;
    var direction = isSorted(column) && state.direction === 'asc' ? 'desc' : 'asc';
    callback(event, {
      column: column,
      direction: direction
    });
    if (event.isDefaultPrevented()) return;
    setState({
      column: column,
      direction: direction
    });
  }, [state, isSorted]);

  return {
    direction: state.direction,
    isSorted: isSorted,
    onClick: onClick
  };
};

var _default = useSorting;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0V6VGFibGUvdXNlU29ydGluZy50cyJdLCJuYW1lcyI6WyJ1c2VTb3J0aW5nIiwiaW5pdGlhbFN0YXRlIiwiZGlyZWN0aW9uIiwiY29sdW1uIiwic3RhdGUiLCJzZXRTdGF0ZSIsImlzU29ydGVkIiwiUmVhY3QiLCJ1c2VDYWxsYmFjayIsImtleSIsIm9uQ2xpY2siLCJldmVudCIsImNhbGxiYWNrIiwic29ydGFibGUiLCJpc0RlZmF1bHRQcmV2ZW50ZWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFHQSxJQUFNQSxVQUFVLEdBQUcsU0FBYkEsVUFBYSxHQUE2RTtBQUFBLE1BQTVFQyxZQUE0RSx1RUFBL0M7QUFBQ0MsSUFBQUEsU0FBUyxFQUFFLEtBQVo7QUFBbUJDLElBQUFBLE1BQU0sRUFBRTtBQUEzQixHQUErQzs7QUFBQSxrQkFDcEUscUJBQXVCRixZQUF2QixDQURvRTtBQUFBO0FBQUEsTUFDdkZHLEtBRHVGO0FBQUEsTUFDaEZDLFFBRGdGOztBQUc5RixNQUFNQyxRQUFRLEdBQUdDLGtCQUFNQyxXQUFOLENBQWtCLFVBQUFMLE1BQU07QUFBQSxXQUFJQyxLQUFLLENBQUNELE1BQU4sSUFBZ0JDLEtBQUssQ0FBQ0QsTUFBTixDQUFhTSxHQUFiLEtBQXFCTixNQUFNLENBQUNNLEdBQWhEO0FBQUEsR0FBeEIsRUFBNkUsQ0FDNUZMLEtBRDRGLENBQTdFLENBQWpCOztBQUlBLE1BQU1NLE9BQU8sR0FBR0gsa0JBQU1DLFdBQU4sQ0FDZCxVQUFDRyxLQUFELEVBQVFSLE1BQVIsRUFBZ0JTLFFBQWhCLEVBQTZCO0FBQzNCLFFBQUksQ0FBQ1QsTUFBTSxDQUFDVSxRQUFaLEVBQXNCO0FBRXRCLFFBQU1YLFNBQVMsR0FBR0ksUUFBUSxDQUFDSCxNQUFELENBQVIsSUFBb0JDLEtBQUssQ0FBQ0YsU0FBTixLQUFvQixLQUF4QyxHQUFnRCxNQUFoRCxHQUF5RCxLQUEzRTtBQUVBVSxJQUFBQSxRQUFRLENBQUNELEtBQUQsRUFBUTtBQUFDUixNQUFBQSxNQUFNLEVBQU5BLE1BQUQ7QUFBU0QsTUFBQUEsU0FBUyxFQUFUQTtBQUFULEtBQVIsQ0FBUjtBQUVBLFFBQUlTLEtBQUssQ0FBQ0csa0JBQU4sRUFBSixFQUFnQztBQUVoQ1QsSUFBQUEsUUFBUSxDQUFDO0FBQUNGLE1BQUFBLE1BQU0sRUFBTkEsTUFBRDtBQUFTRCxNQUFBQSxTQUFTLEVBQVRBO0FBQVQsS0FBRCxDQUFSO0FBQ0QsR0FYYSxFQVlkLENBQUNFLEtBQUQsRUFBUUUsUUFBUixDQVpjLENBQWhCOztBQWVBLFNBQU87QUFDTEosSUFBQUEsU0FBUyxFQUFFRSxLQUFLLENBQUNGLFNBRFo7QUFFTEksSUFBQUEsUUFBUSxFQUFSQSxRQUZLO0FBR0xJLElBQUFBLE9BQU8sRUFBUEE7QUFISyxHQUFQO0FBS0QsQ0EzQkQ7O2VBNkJlVixVIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7dXNlU3RhdGV9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7U29ydGluZ1N0YXRlLCBTb3J0YWJsZX0gZnJvbSAnLi9FelRhYmxlLnR5cGVzJztcblxuY29uc3QgdXNlU29ydGluZyA9IChpbml0aWFsU3RhdGU6IFNvcnRpbmdTdGF0ZSA9IHtkaXJlY3Rpb246ICdhc2MnLCBjb2x1bW46IG51bGx9KTogU29ydGFibGUgPT4ge1xuICBjb25zdCBbc3RhdGUsIHNldFN0YXRlXSA9IHVzZVN0YXRlPFNvcnRpbmdTdGF0ZT4oaW5pdGlhbFN0YXRlKTtcblxuICBjb25zdCBpc1NvcnRlZCA9IFJlYWN0LnVzZUNhbGxiYWNrKGNvbHVtbiA9PiBzdGF0ZS5jb2x1bW4gJiYgc3RhdGUuY29sdW1uLmtleSA9PT0gY29sdW1uLmtleSwgW1xuICAgIHN0YXRlLFxuICBdKTtcblxuICBjb25zdCBvbkNsaWNrID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgKGV2ZW50LCBjb2x1bW4sIGNhbGxiYWNrKSA9PiB7XG4gICAgICBpZiAoIWNvbHVtbi5zb3J0YWJsZSkgcmV0dXJuO1xuXG4gICAgICBjb25zdCBkaXJlY3Rpb24gPSBpc1NvcnRlZChjb2x1bW4pICYmIHN0YXRlLmRpcmVjdGlvbiA9PT0gJ2FzYycgPyAnZGVzYycgOiAnYXNjJztcblxuICAgICAgY2FsbGJhY2soZXZlbnQsIHtjb2x1bW4sIGRpcmVjdGlvbn0pO1xuXG4gICAgICBpZiAoZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVybjtcblxuICAgICAgc2V0U3RhdGUoe2NvbHVtbiwgZGlyZWN0aW9ufSk7XG4gICAgfSxcbiAgICBbc3RhdGUsIGlzU29ydGVkXVxuICApO1xuXG4gIHJldHVybiB7XG4gICAgZGlyZWN0aW9uOiBzdGF0ZS5kaXJlY3Rpb24sXG4gICAgaXNTb3J0ZWQsXG4gICAgb25DbGljayxcbiAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHVzZVNvcnRpbmc7XG4iXX0=